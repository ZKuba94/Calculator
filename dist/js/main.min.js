"use strict";var score,bottomRow=document.querySelector(".output__digit"),topRow=document.querySelector(".output__submit"),middleRow=document.querySelector(".output__action"),digits=document.querySelectorAll(".number"),signs=document.querySelectorAll(".sign"),clearBtn=document.querySelector(".clear"),powerBtn=document.querySelector(".power"),multiplyBtn=document.querySelector(".multiply"),backspaceBtn=document.querySelector(".backspace"),elementBtn=document.querySelector(".element"),divideBtn=document.querySelector(".divide"),minusBtn=document.querySelector(".minus"),plusBtn=document.querySelector(".plus"),equalBtn=document.querySelector(".equal"),dotBtn=document.querySelector(".dot"),lastsList=document.querySelector(".history__list"),btns=document.querySelectorAll(".calculator__down__btn, .equal"),clearListBtn=document.querySelector(".history__btn-clear"),calculate=[],ulItemStorage=[],keyDigits=[],typeDigit=function(t){calculate.length<=15?calculate.includes(".")?"."!==t.target.textContent&&(calculate.push(t.target.textContent),bottomRow.textContent=calculate.join("")):calculate.includes(".")||(!bottomRow.textContent.startsWith("0")||"0"!=t.target.textContent&&"00"!=t.target.textContent?(bottomRow.textContent.startsWith("0")&&"."===t.target.textContent?((calculate=[]).push("0"),calculate.push(t.target.textContent)):0===calculate.length&&0<bottomRow.textContent.length&&"0"==!bottomRow.textContent?"0"==t.target.textContent||"00"==t.target.textContent?calculate.push("0"):("."==t.target.textContent&&(calculate=[]).push("0"),calculate.push(t.target.textContent)):(bottomRow.textContent.startsWith("0")&&t.target.classList.contains("number")&&!t.target.classList.contains("dot")?calculate.push("."):topRow.textContent,calculate.push(t.target.textContent)),bottomRow.textContent=calculate.join("")):1<bottomRow.textContent.length&&(calculate.push("0"),bottomRow.textContent=calculate.join(""))):console.log("nie no tyle to nie")},addition=function(){var t=Number.parseFloat(topRow.textContent),e=Number.parseFloat(bottomRow.textContent),t=(ulItemStorage=[t,e,score=t+e],calculate=[],document.createElement("li"));t.classList.add("history__list__item"),t.textContent="".concat(ulItemStorage[0]," + ").concat(ulItemStorage[1]," = ").concat(ulItemStorage[2]),lastsList.append(t),ulItemStorage=[]},subtraction=function(){var t=Number.parseFloat(topRow.textContent),e=Number.parseFloat(bottomRow.textContent),t=(calculate=[],ulItemStorage=[t,e,score=t-e],document.createElement("li"));t.classList.add("history__list__item"),t.textContent="".concat(ulItemStorage[0]," - ").concat(ulItemStorage[1]," = ").concat(ulItemStorage[2]),lastsList.append(t),ulItemStorage=[]},multiply=function(){var t=Number.parseFloat(topRow.textContent),e=Number.parseFloat(bottomRow.textContent),t=(calculate=[],ulItemStorage=[t,e,score=t*e],document.createElement("li"));t.classList.add("history__list__item"),t.textContent="".concat(ulItemStorage[0]," * ").concat(ulItemStorage[1]," = ").concat(ulItemStorage[2]),lastsList.append(t),ulItemStorage=[]},divide=function(){var t,e=Number.parseFloat(topRow.textContent),o=Number.parseFloat(bottomRow.textContent);ulItemStorage=(0===o?(calculate=[],ulItemStorage=[e,o,"error"],(t=document.createElement("li")).classList.add("history__list__item"),t.textContent="".concat(ulItemStorage[0]," / ").concat(ulItemStorage[1]," = ").concat(ulItemStorage[2]),lastsList.append(t)):(calculate=[],ulItemStorage=[e,o,score=e/o],(t=document.createElement("li")).classList.add("history__list__item"),t.textContent="".concat(ulItemStorage[0]," / ").concat(ulItemStorage[1]," = ").concat(ulItemStorage[2]),lastsList.append(t)),[])},square=function(){var t;""==topRow.textContent?"0"==!bottomRow.textContent&&(t=Number.parseFloat(bottomRow.textContent),score=Math.sqrt(t),bottomRow.textContent=score,ulItemStorage=[t,score],(t=document.createElement("li")).classList.add("history__list__item"),t.innerHTML="&#8730 ".concat(ulItemStorage[0]," = ").concat(ulItemStorage[1]),lastsList.append(t),ulItemStorage=[]):(t=Number.parseFloat(bottomRow.textContent),score=Math.sqrt(t),bottomRow.textContent=score,checkSign(),ulItemStorage=[t,score],(t=document.createElement("li")).classList.add("history__list__item"),t.innerHTML="&#8730 ".concat(ulItemStorage[0]," = ").concat(ulItemStorage[1]),lastsList.append(t),ulItemStorage=[]),calculate=[],checkSize()},exponentiation=function(){var t;""==topRow.textContent?"0"==!bottomRow.textContent&&(t=Number.parseFloat(bottomRow.textContent),score=Math.pow(t,2),bottomRow.textContent=score,ulItemStorage=[t,score],(t=document.createElement("li")).classList.add("history__list__item"),t.innerHTML="".concat(ulItemStorage[0],"<sup>2</sup> = ").concat(ulItemStorage[1]),lastsList.append(t),ulItemStorage=[]):(t=Number.parseFloat(bottomRow.textContent),score=Math.pow(t,2),bottomRow.textContent=score,checkSign(),ulItemStorage=[t,score],(t=document.createElement("li")).classList.add("history__list__item"),t.innerHTML="".concat(ulItemStorage[0],"<sup>2</sup> = ").concat(ulItemStorage[1]),lastsList.append(t),ulItemStorage=[]),calculate=[],checkSize()},chooseAction=function(){""==!topRow.textContent&&""==!middleRow.textContent&&""==!bottomRow.textContent&&("+"===middleRow.textContent?(addition(),bottomRow.textContent=score,topRow.textContent="",middleRow.textContent=""):"-"===middleRow.textContent?(subtraction(),bottomRow.textContent=score,topRow.textContent="",middleRow.textContent=""):"*"===middleRow.textContent?(multiply(),bottomRow.textContent=score,topRow.textContent="",middleRow.textContent=""):"/"===middleRow.textContent&&("0"===bottomRow.textContent?(divide(),bottomRow.textContent="error"):(divide(),bottomRow.textContent=score),topRow.textContent="",middleRow.textContent=""),checkSize())},quickAction=function(){"+"===middleRow.textContent?(addition(),topRow.textContent=score):"-"===middleRow.textContent?(subtraction(),topRow.textContent=score):"*"===middleRow.textContent?(multiply(),topRow.textContent=score):"/"===middleRow.textContent&&(divide(),topRow.textContent=score)},checkSign=function(t){""==topRow.textContent?"0"==!bottomRow.textContent&&(middleRow.textContent=t.target.textContent,topRow.textContent=bottomRow.textContent,calculate=[]):""==!topRow.textContent&&("0"==bottomRow.textContent?quickAction():"0"==!bottomRow.textContent&&(middleRow.textContent===t.target.textContent?quickAction():middleRow.textContent=t.target.textContent))},deleteOneFunction=function(){calculate.length<=1?(calculate=[],bottomRow.textContent="0"):1<calculate.length&&(calculate.pop(),bottomRow.textContent=calculate.join(""))},clearFunction=function(){calculate=[],topRow.textContent="",middleRow.textContent="",bottomRow.textContent="0"},checkSize=function(){0<bottomRow.textContent.length&&(bottomRow.style.fontSize="3.5rem",10<bottomRow.textContent.length&&(bottomRow.style.fontSize="3.3rem",12<=bottomRow.textContent.length&&(bottomRow.style.fontSize="3.1rem",14<=bottomRow.textContent.length&&(bottomRow.style.fontSize="2.8rem",16<bottomRow.textContent.length&&(bottomRow.style.fontSize="2.5rem")))))},clearList=function(){lastsList.innerHTML=""},keyPress=function(t){calculate.length<=16&&("+"==t.key&&"0"==!bottomRow.textContent?(middleRow.textContent="+",topRow.textContent=bottomRow.textContent,calculate=[]):"-"==t.key&&"0"==!bottomRow.textContent?(middleRow.textContent="-",topRow.textContent=bottomRow.textContent,calculate=[]):"*"==t.key&&"0"==!bottomRow.textContent?(middleRow.textContent="*",topRow.textContent=bottomRow.textContent,calculate=[]):"/"==t.key&&"0"==!bottomRow.textContent?(middleRow.textContent="/",topRow.textContent=bottomRow.textContent,calculate=[]):"="!=t.key&&"Enter"!=t.key||"0"!=!bottomRow.textContent?"Backspace"==t.key&&deleteOneFunction():chooseAction(),"1"==t.key?(calculate.push("1"),bottomRow.textContent=calculate.join("")):"2"==t.key?(calculate.push("2"),bottomRow.textContent=calculate.join("")):"3"==t.key?(calculate.push("3"),bottomRow.textContent=calculate.join("")):"4"==t.key?(calculate.push("4"),bottomRow.textContent=calculate.join("")):"5"==t.key?(calculate.push("5"),bottomRow.textContent=calculate.join("")):"6"==t.key?(calculate.push("6"),bottomRow.textContent=calculate.join("")):"7"==t.key?(calculate.push("7"),bottomRow.textContent=calculate.join("")):"8"==t.key?(calculate.push("8"),bottomRow.textContent=calculate.join("")):"9"==t.key?(calculate.push("9"),bottomRow.textContent=calculate.join("")):"0"==t.key?(calculate.push("0"),bottomRow.textContent=calculate.join("")):"."!=t.key&&","!=t.key||(calculate.push("."),bottomRow.textContent=calculate.join("")))};powerBtn.addEventListener("click",exponentiation),elementBtn.addEventListener("click",square),clearBtn.addEventListener("click",clearFunction),backspaceBtn.addEventListener("click",deleteOneFunction),equalBtn.addEventListener("click",chooseAction),digits.forEach(function(t){return t.addEventListener("click",typeDigit)}),signs.forEach(function(t){return t.addEventListener("click",checkSign)}),digits.forEach(function(t){return t.addEventListener("click",checkSize)}),clearListBtn.addEventListener("click",clearList),document.addEventListener("keydown",keyPress);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsia2V5RGlnaXRzIiwiYm90dG9tUm93IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidG9wUm93IiwibWlkZGxlUm93IiwiZGlnaXRzIiwicXVlcnlTZWxlY3RvckFsbCIsInNpZ25zIiwiY2xlYXJCdG4iLCJwb3dlckJ0biIsIm11bHRpcGx5QnRuIiwiYmFja3NwYWNlQnRuIiwiZWxlbWVudEJ0biIsImRpdmlkZUJ0biIsIm1pbnVzQnRuIiwicGx1c0J0biIsImVxdWFsQnRuIiwiZG90QnRuIiwibGFzdHNMaXN0IiwiY2xlYXJMaXN0QnRuIiwiY2FsY3VsYXRlIiwidWxJdGVtU3RvcmFnZSIsInR5cGVEaWdpdCIsImUiLCJsZW5ndGgiLCJpbmNsdWRlcyIsInRhcmdldCIsInRleHRDb250ZW50Iiwiam9pbiIsInN0YXJ0c1dpdGgiLCJwdXNoIiwiY29uc29sZSIsInVsSXRlbSIsImFwcGVuZCIsInBhcnNlRmxvYXQiLCJ4IiwieSIsInNjb3JlIiwic3VidHJhY3Rpb24iLCJjbGFzc0xpc3QiLCJhZGQiLCJjb25jYXQiLCJjcmVhdGVFbGVtZW50IiwiTWF0aCIsImlubmVySFRNTCIsInNxcnQiLCJjaGVja1NpZ24iLCJjaGVja1NpemUiLCJleHBvbmVudGlhdGlvbiIsIk51bWJlciIsInBvdyIsImFkZGl0aW9uIiwiY2hvb3NlQWN0aW9uIiwibXVsdGlwbHkiLCJkaXZpZGUiLCJxdWlja0FjdGlvbiIsImRlbGV0ZU9uZUZ1bmN0aW9uIiwicG9wIiwiY2xlYXJGdW5jdGlvbiIsInN0eWxlIiwiZm9udFNpemUiLCJjbGVhckxpc3QiLCJrZXlQcmVzcyIsImtleSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzcXVhcmUiLCJkaWdpdCIsImZvckVhY2giLCJzaWduIl0sIm1hcHBpbmdzIjoiYUFBQSxJQXFCSUEsTUFyQkVDLFVBQVlDLFNBQVNDLGNBQWMsZ0JBQXZCLEVBQ1pDLE9BQVNGLFNBQVNDLGNBQWMsaUJBQXZCLEVBRFRGLFVBQVlDLFNBQVNDLGNBQWMsaUJBQXZCRCxFQUNaRSxPQUFTRixTQUFTQyxpQkFBYyxTQUF2QkQsRUFDVEcsTUFBU0gsU0FBR0EsaUJBQXVCLE9BQTFCLEVBQ1RJLFNBQVNKLFNBQVNLLGNBQWlCLFFBQTFCTCxFQUNUTSxTQUFRTixTQUFTSyxjQUFpQixRQUExQkwsRUFDUk8sWUFBV1AsU0FBU0MsY0FBYyxXQUF2QkQsRUFDWFEsYUFBV1IsU0FBU0MsY0FBYyxZQUF2QkQsRUFDWFMsV0FBY1QsU0FBU0MsY0FBYyxVQUF2QkQsRUFDZFUsVUFBWVYsU0FBV0MsY0FBUixTQUFILEVBQ1pVLFNBQWFYLFNBQVNDLGNBQWMsUUFBdkJELEVBQ2JZLFFBQVlaLFNBQVNDLGNBQWMsT0FBdkJELEVBQ1phLFNBQVdiLFNBQVNDLGNBQWMsUUFBdkJELEVBQ1hjLE9BQVVkLFNBQVNDLGNBQWMsTUFBdkJELEVBQ1ZlLFVBQVdmLFNBQVNDLGNBQWMsZ0JBQXZCRCxFQUNYZ0IsS0FBU2hCLFNBQVNDLGlCQUFjLGdDQUF2QkQsRUFDVGlCLGFBQVlqQixTQUFTQyxjQUFjLHFCQUF2QkQsRUFFWmtCLFVBQVksR0FFZEMsY0FBSixHQUNJQyxVQUFBQSxHQU1FQyxVQUFZLFNBQUFDLEdBQ2pCSCxVQUFhSSxRQUFULEdBQ0hKLFVBQUlBLFNBQVVLLEdBQWQsRUFDSyxNQUFKRixFQUFBRyxPQUFNQSxjQUVMTixVQUNBcEIsS0FBVTJCLEVBQUFBLE9BQUFBLFdBRFYsRUFDQTNCLFVBQ0EyQixZQUFBUCxVQUFBUSxLQUFBLEVBQUEsR0FHQTVCLFVBQVUyQixTQUFZRSxHQUF0QjdCLElBQUFBLENBQUFBLFVBSUNvQixZQUFlUyxXQUFmLEdBSkQsR0FLV0YsS0FKVkosRUFBRUcsT0FJRjFCLGFBQUEsTUFBd0JvQixFQUFBQSxPQUFVUSxhQU1uQzVCLFVBQVUyQixZQUFjUCxXQUFlLEdBQXZDcEIsR0FBQSxNQUFBdUIsRUFBQUcsT0FBQUMsY0FIQVAsVUFJTSxJQUNBTSxLQUFBQSxHQUpOLEVBQ0FOLFVBSUNBLEtBQVNHLEVBQUNPLE9BQVZILFdBSkQsR0FNb0JBLElBSHBCUCxVQUdhTSxRQUE0QixFQUE5QjFCLFVBQThCMkIsWUFBQUgsUUFBQSxLQUFBLENBQUF4QixVQUFBMkIsWUFDeEMsS0FKR0osRUFJSEgsT0FBQUEsYUFHQSxNQUFBQSxFQUFBQSxPQUFBTyxZQUhBUCxVQUlBQSxLQUFVVSxHQUpWLEdBTXdCVixLQUF4QnBCLEVBQUFBLE9BQVUyQixjQUhWUCxVQUlNLElBQ05BLEtBQVVVLEdBSlYsRUFJQVYsVUFRREEsS0FBVVUsRUFBVkosT0FBQUMsV0FSQyxJQUlEM0IsVUFRSUcsWUFBT3dCLFdBQVgsR0FSQSxHQUNBSixFQUFFRyxPQVFETixVQUFVVSxTQUFPSixRQVJsQixHQUNBLENBQUNILEVBQUVHLE9BUUYxQixVQUFVMkIsU0FBVixLQVJBLEVBRURQLFVBUUNBLEtBQVMsR0FSVixFQVlEakIsT0FBQXdCLFlBdERGUCxVQXVET1UsS0FBQVAsRUFBQUcsT0FBQUMsV0F2RFAsR0F3RENJLFVBQUFKLFlBQVlQLFVBQVpRLEtBQUEsRUFBWSxHQXhDc0JDLEVBUmpDN0IsVUFRV0EsWUFBVTJCLFNBSG5CUCxVQUlEQSxLQUFZLEdBSlgsRUFDQXBCLFVBSURvQixZQUFBQSxVQUFBUSxLQUFBLEVBQUEsSUE4Q0hQLFFBQUFBLElBQUFBLG9CQUFBQSxDQU5BLEVBV0FXLFNBQU9MLFdBUlAsSUFTQVQsRUFBQUEsT0FBVWUsV0FBVjlCLE9BQUF3QixXQUFBVCxFQUNBRyxFQUFBQSxPQUFhYSxXQUFibEMsVUFBQTJCLFdBQUFOLEVBSUtXLEdBWExYLGNBQWdCLENBQUNjLEVBQUdDLEVBSnJCQyxNQUFBRixFQUFBQyxHQWFBaEIsVUFBTWtCLEdBRVNyQyxTQUFDaUMsY0FBcUJQLElBQXRCLEdBUGRLLEVBUUtPLFVBQUxDLElBQUEscUJBUkEsRUFDQVIsRUFRQVosWUFSQSxHQUFBcUIsT0FRQXBCLGNBQUEsR0FSQSxLQUFBLEVBQUFvQixPQVFBcEIsY0FBQSxHQVJBLEtBQUEsRUFBQW9CLE9BUUFwQixjQUFBLEVBUkEsRUFDQUgsVUFTQUcsT0FBZ0JXLENBVGhCLEVBQ0FYLGNBU2VwQixFQVJmLEVBVUErQixZQUFBLFdBUkEsSUFTQWQsRUFBQUEsT0FBVWUsV0FBVjlCLE9BQUF3QixXQUFBVCxFQUNBRyxFQUFBQSxPQUFhYSxXQUFibEMsVUFBQTJCLFdBQUFOLEVBSUtXLEdBWExaLFVBQVksR0FFWkMsY0FRZWEsQ0FBQUEsRUFBQUEsRUFkaEJHLE1BQUFGLEVBQUFDLEdBZWVuQyxTQUFDaUMsY0FBcUJQLElBQXRCLEdBUGRLLEVBUUtPLFVBQUxDLElBQUEscUJBUkEsRUFDQVIsRUFRQVosWUFSQSxHQUFBcUIsT0FRQXBCLGNBQUEsR0FSQSxLQUFBLEVBQUFvQixPQVFBcEIsY0FBQSxHQVJBLEtBQUEsRUFBQW9CLE9BUUFwQixjQUFBLEVBUkEsRUFDQUgsVUFTQUcsT0FBZ0JXLENBVGhCLEVBQ0FYLGNBU2VwQixFQVJmLEVBVUErQixTQUFPTCxXQVJQLElBU0FULEVBQUFBLE9BQVVlLFdBQVY5QixPQUFBd0IsV0FBQVQsRUFDQUcsRUFBQUEsT0FBYWEsV0FBYmxDLFVBQUEyQixXQUFBTixFQUlLVyxHQVhMWixVQUFZLEdBRVpDLGNBUWVhLENBQUFBLEVBQUFBLEVBZGhCRyxNQUFBRixFQUFBQyxHQWVlbkMsU0FBQ2lDLGNBQXFCUCxJQUF0QixHQVBkSyxFQUFPTyxVQUFVQyxJQUFJLHFCQUFyQixFQUNBUixFQVFLTCxZQVJMLEdBQUFjLE9BUWFwQixjQUFBLEdBUmIsS0FBQSxFQUFBb0IsT0FRYXBCLGNBQUEsR0FSYixLQUFBLEVBQUFvQixPQVFhcEIsY0FBQSxFQVJiLEVBQ0FILFVBUUNFLE9BQUFZLENBUkQsRUFDQVgsY0FRYyxFQVBkLEVBU0NXLE9BQU9PLFdBUFIsSUFvQkNQLEVBWkFBLEVBQUFBLE9BQU9MLFdBQVB4QixPQUFBd0IsV0FBQUssRUFDQWQsRUFBQUEsT0FBVWUsV0FBVmpDLFVBQUEyQixXQUFBVCxFQUNBRyxlQUNNLElBUlBlLEdBQ0NoQixVQVFTLEdBUFRDLGNBUUEsQ0FBQWMsRUFBQUMsRUFBQSxVQUNBZixFQUFhcEIsU0FBR3lDLGNBQWhCLElBQWEsR0FQTkgsVUFBVUMsSUFBSSxxQkFBckIsRUFDQVIsRUFPTUEsWUFQTixHQUFBUyxPQU91QnBCLGNBQVIsR0FQZixLQUFBLEVBQUFvQixPQU9BcEIsY0FBQSxHQVBBLEtBQUEsRUFBQW9CLE9BT0FwQixjQUFBLEVBUEEsRUFDQUgsVUFBVWUsT0FBT0QsQ0FBakIsSUFJQVosVUFLVWEsR0FKVlosY0FLYSxDQUFBYyxFQUFiQyxFQVBBQyxNQUtBTCxFQUFPTCxJQUdQSyxFQUFBL0IsU0FBQXlDLGNBQUEsSUFBQSxHQXJCRkgsVUFBQUMsSUFBQSxxQkFBQSxFQWtCRVIsRUFBT0wsWUFBUCxHQUFBYyxPQUF3QnBCLGNBQWMsR0FBdEMsS0FBQSxFQUFBb0IsT0FBOENwQixjQUFjLEdBQTVELEtBQUEsRUFBQW9CLE9BQW9FcEIsY0FBYyxFQUFsRixFQUtGSCxVQUFZZSxPQUFHRCxDQUFmLEdBQ1lMLEdBRlgsRUFLRVUsT0FBUU0sV0FIVixJQXNCQ1gsRUFsQkMsSUFKRTdCLE9BSUZILFlBRUEsS0FBQXFCLENBQUFBLFVBQUFBLGNBQ0FlLEVBQU1KLE9BQU1FLFdBQVlRLFVBQUFBLFdBQWxCVixFQUpOSyxNQUtBTCxLQUFPTyxLQUFBQSxDQUFQUCxFQUpBaEMsVUFLTzRDLFlBQVBQLE1BSEFoQixjQUthLENBQUFlLEVBQUdDLFFBQ2hCTCxFQUFBL0IsU0FBQXlDLGNBQUEsSUFBQSxHQUNLSCxVQUFBQyxJQUFBLHFCQWJQLEVBU0VSLEVBS0lZLFVBTEosVUFBQUgsT0FLeUJ6QyxjQUFVMkIsR0FMbkMsS0FBQSxFQUFBYyxPQUtEcEIsY0FBQSxFQUxDLEVBQ0FILFVBQVVlLE9BQU9ELENBQWpCLEVBQ0FYLGNBSVl3QixLQUlieEIsRUFBQUEsT0FBYWEsV0FBT0csVUFBcEJWLFdBQUFOLEVBSkFnQixNQUFRTSxLQUFLRSxLQUFLVCxDQUFWLEVBQ1JwQyxVQUlNZ0MsWUFBUy9CLE1BSGY2QyxVQUFTLEVBRVR6QixjQUFnQixDQUFDZSxFQUFHQyxRQUdwQkwsRUFBT1ksU0FBUEYsY0FBQSxJQUFPRSxHQUNQMUIsVUFBVWUsSUFBT0QscUJBRmpCLEVBQ0FBLEVBRUFYLFVBRkEsVUFBQW9CLE9BRUFwQixjQUFBLEdBRkEsS0FBQSxFQUFBb0IsT0FFQXBCLGNBQUEsRUFGQSxFQUdBSCxVQUFBZSxPQUFBRCxDQUFBLEVBREFYLGNBQWdCLElBRWpCRCxVQUNTLEdBNUJWMkIsVUFBQSxDQTZCQyxFQUNLQyxlQUFpQixXQUN0QixJQW9CT2hCLEVBcEJILElBQUo3QixPQUFVd0IsWUFDTCxLQUFKLENBQUEzQixVQUFLQSxjQUNKb0MsRUFBS2EsT0FBR0EsV0FBT2YsVUFBV2xDLFdBQXJCLEVBQ0xxQyxNQUFLTSxLQUFHQSxJQUFLTyxFQUFJZCxDQUFaLEVBQ0xwQyxVQUFBQSxZQUFBcUMsTUFFQWhCLGNBQ2VwQixDQUFBQSxFQUFBQSxRQUNmK0IsRUFBT08sU0FBY0csY0FBQSxJQUFkSCxHQUNQUCxVQUFPWSxJQUFQLHFCQURBLEVBQ0FaLEVBQ0FkLFVBREEsR0FBQXVCLE9BQ2lCVCxjQUFqQixHQURBLGlCQUFBLEVBQUFTLE9BQ0FwQixjQUFBLEVBREEsRUFDQUgsVUFDQUcsT0FBYVcsQ0FEYixFQUNBWCxjQUNBLEtBRUdlLEVBQUlhLE9BQU9mLFdBQVdsQyxVQUFVMkIsV0FBNUIsRUFDUlUsTUFBS00sS0FBR0EsSUFBS08sRUFBSWQsQ0FBWixFQUNMcEMsVUFBQUEsWUFBQXFDLE1BQ0FTLFVBQUFBLEVBRUF6QixjQUFnQixDQUFDZSxFQUFHQyxRQUNkTCxFQUFNL0IsU0FBR0EsY0FBU3lDLElBQVosR0FDTEgsVUFBVUMsSUFBSSxxQkFBckIsRUFDQVIsRUFEQUEsVUFDQSxHQUFBUyxPQURpQkQsY0FBSSxHQUNyQixpQkFBQSxFQUFBQyxPQURBcEIsY0FBQSxFQUNBLEVBQ0FILFVBQVVlLE9BQU9ELENBQWpCLEVBQ0FYLGNBRk91QixJQUlSeEIsVUFGQ0MsR0FHRDBCLFVBRkMsQ0FHRCxFQURBQSxhQUFTLFdBNUJWLElBQUEsQ0FBQTVDLE9BQUF3QixhQUFBLElBQUEsQ0FBQXZCLFVBQUF1QixhQUFBLElBQUEsQ0FBQTNCLFVBQUEyQixjQWlDZ0MsTUFBMUJ2QixVQUFVdUIsYUFGaEJ3QixTQUFNQyxFQUNMcEQsVUFBVzJCLFlBQVBVLE1BSUZsQyxPQUhHQyxZQUFVdUIsR0FJYnZCLFVBSEErQyxZQUFRLElBQ1IsTUFBQW5ELFVBQVUyQixhQUlWVyxZQUhPWCxFQUlQM0IsVUFIQUksWUFBQWlDLE1BSUFsQyxPQVJEd0IsWUFLb0IsR0FJbkJ2QixVQUhBa0MsWUFBVyxJQUNYLE1BQUF0QyxVQUFVMkIsYUFJVjBCLFNBSEFsRCxFQUlBSCxVQUhBSSxZQUFBaUMsTUFJQWxDLE9BUk13QixZQUthLEdBSW5CdkIsVUFIQWlELFlBQVEsSUFDUixNQUFBckQsVUFBVTJCLGNBQ1YsTUFBQXhCLFVBQU93QixhQUlOMkIsT0FIRGxELEVBQ0FKLFVBQU0yQixZQUFjQSxVQU9uQjJCLE9BSEFuRCxFQUlBSCxVQUhBSSxZQUFVdUIsT0FJVnhCLE9BUkR3QixZQUtPLEdBSU52QixVQUhNdUIsWUFBQSxJQU1Sb0IsVUFIRTNDLEVBS0gsRUFDS21ELFlBQWMsV0FIVCxNQUFUUixVQUFTcEIsYUFDVHdCLFNBQUEsRUEvQkZoRCxPQUFBd0IsWUFBQVUsT0FxQ3NDLE1BQTFCakMsVUFBVXVCLGFBSnRCVyxZQUFNaUIsRUFDTHBELE9BQUlDLFlBQVV1QixPQUNMLE1BQUF2QixVQUFBdUIsYUFNUjBCLFNBTE0sRUFDTmxELE9BQU13QixZQUFjQSxPQUNULE1BQVhXLFVBQVdYLGNBTVgyQixPQUxBbkQsRUFDQUEsT0FBTXdCLFlBQWNBLE1BT3JCLEVBUE9tQixVQUdJMUMsU0FBQUEsR0FDSixJQUFOa0QsT0FBTTNCLFlBQ04sS0FBQXhCLENBQUFBLFVBQU93QixjQUNQdkIsVUFBQXVCLFlBQUFKLEVBQUFHLE9BQUFDLFlBYkZ4QixPQUFBd0IsWUFBQTNCLFVBQUEyQixZQW9CR1AsVUFBWSxJQUpnQixJQUFwQixDQUFDTyxPQUFBQSxjQUNOLEtBQUozQixVQUFLQSxZQU9KdUQsWUFOQW5ELEVBQytCdUIsS0FBeEJBLENBQUFBLFVBQVBBLGNBQ0FQLFVBQVNPLGNBQVRKLEVBQUFHLE9BQUFDLFlBQ0E0QixZQUFBLEVBRURuRCxVQUFJSixZQUFVMkIsRUFBVkQsT0FBSkMsYUFVRCxFQUVLNkIsa0JBTlE3QixXQU9UUCxVQU5ESSxRQUFBLEdBT0ZKLFVBTkMsR0FDRHBCLFVBQUEyQixZQUFBLEtBakJGLEVBQUFQLFVBQUFJLFNBeUJFSixVQUFVcUMsSUFBVixFQUxGekQsVUFBTXdELFlBQW9CcEMsVUFBcEJvQyxLQUFBQSxFQUFvQixFQVF6QixFQUxDeEQsY0FBVTJCLFdBT1hQLFVBTldBLEdBT1hqQixPQU5DaUIsWUFBQSxHQU9EaEIsVUFOQ0osWUFBQSxHQU9EQSxVQU5DMkIsWUFBQSxHQVBGLEVBU00rQixVQUFhLFdBQ2xCLEVBQUF0QyxVQUFZTyxZQUFaSCxTQUNBckIsVUFBT3dCLE1BQUFBLFNBQVAsU0FDQSxHQUFBdkIsVUFBVXVCLFlBQVZILFNBQ0F4QixVQUFVMkIsTUFBQUEsU0FBVixTQUpELElBQUEzQixVQUFBMkIsWUFBQUgsU0FhSXhCLFVBQVUyRCxNQUFNQyxTQUFXLFNBTlAsSUFBbEJiLFVBQVlwQixZQUFab0IsU0FDTC9DLFVBQWEyRCxNQUFDaEMsU0FBWUgsU0FDekIsR0FBQXhCLFVBQUEyQixZQUEyQkgsU0FRdkJ4QixVQUFVMkQsTUFBTUMsU0FBVyxhQU1oQyxFQUVLQyxVQVZEN0QsV0FXSmtCLFVBQVUwQixVQUFZLEVBQ3RCLEVBQ0trQixTQVhBOUQsU0FBQUEsR0FZRG9CLFVBWENJLFFBQUEsS0FDRCxLQVdDRCxFQVhEd0MsS0FBQSxLQUFBLENBQUEvRCxVQUFBMkIsYUFZRnZCLFVBWEN1QixZQUFBLElBWUR4QixPQVhBd0IsWUFBQTNCLFVBQUEyQixZQUNEUCxVQUFBLElBZkYsS0FBQUcsRUFBQXdDLEtBQUEsS0FBQSxDQUFBL0QsVUFBQTJCLGFBNEJHdkIsVUFBVXVCLFlBQWMsSUFWM0J4QixPQUFNMEQsWUFBWTdELFVBQUEyQixZQUNqQlQsVUFBVTBCLElBRFgsS0FBQXJCLEVBQUF3QyxLQUFBLEtBQUEsQ0FBQS9ELFVBQUEyQixhQWNHdkIsVUFBVXVCLFlBQWMsSUFYM0J4QixPQUFNMkQsWUFBQUEsVUFBWW5DLFlBQ2pCUCxVQUFhLElBQ1IsS0FBQUcsRUFBQXdDLEtBQStDLEtBQTlCL0QsQ0FBQUEsVUFBVTJCLGFBYTlCdkIsVUFaQUEsWUFBQSxJQWFBRCxPQVpBQSxZQUFBSCxVQUFxQkEsWUFhckJvQixVQVpTLElBQ0MsS0FBSkcsRUFBS3dDLEtBQWdCL0QsU0FBakJ1QixFQUFpQnZCLEtBQThCLEtBQXBCMkIsQ0FBQUEsVUFBb0JBLFlBRWxEQSxhQUFBQSxFQUFBQSxLQWFQNkIsa0JBWkEsRUFVQUosYUFaUyxFQU9DN0IsS0FKSkEsRUFBQXdDLEtBaUJOM0MsVUFaQWhCLEtBQVV1QixHQVlWLEVBQ0EzQixVQVpPMkIsWUFBYzNCLFVBQVUyQixLQUFBQSxFQUFWM0IsR0FDckIsS0FBQW9CLEVBQVMyQyxLQWFUM0MsVUFaTVUsS0FBT2lDLEdBWWIsRUFDQS9ELFVBWkFvRCxZQUFZaEMsVUFBQVEsS0FBQSxFQUFBLEdBQ0YsS0FBSkwsRUFBSUEsS0FhVkgsVUFaQW9DLEtBQUFBLEdBWUEsRUFDQXhELFVBVkQyQixZQUFBUCxVQUFBUSxLQUFBLEVBQUEsR0FXb0IsS0FBVEwsRUFBRXdDLEtBQ1ozQyxVQUFVVSxLQUFLLEdBQWYsRUFDQTlCLFVBWEcyQixZQUFjUCxVQUFBUSxLQUFBLEVBQUEsR0FDRixLQUFmUixFQUFTMkMsS0FZVDNDLFVBWEFwQixLQUFVMkIsR0FXVixFQUNBM0IsVUFYTTJCLFlBQUFQLFVBQWtCUSxLQUFBLEVBQWxCLEdBQ1MsS0FBZlIsRUFBUzJDLEtBWVQzQyxVQVhBcEIsS0FBVTJCLEdBV1YsRUFDQTNCLFVBWE0yQixZQUFBUCxVQUFrQlEsS0FBQSxFQUFsQixHQUNTLEtBQWZSLEVBQVMyQyxLQVlUM0MsVUFYQXBCLEtBQVUyQixHQVdWLEVBQ0EzQixVQVhNMkIsWUFBQVAsVUFBa0JRLEtBQUEsRUFBbEIsR0FDUyxLQUFmUixFQUFTMkMsS0FZVDNDLFVBWEFwQixLQUFVMkIsR0FXVixFQUNBM0IsVUFYTTJCLFlBQUFQLFVBQWtCUSxLQUFBLEVBQWxCLEdBQ1MsS0FBZlIsRUFBUzJDLEtBWVQzQyxVQVhBcEIsS0FBVTJCLEdBV1YsRUFDQTNCLFVBWE0yQixZQUFBUCxVQUFrQlEsS0FBQSxFQUFsQixHQUNTLEtBQWZSLEVBQVMyQyxLQVlUM0MsVUFYQXBCLEtBQVUyQixHQVdWLEVBQ0EzQixVQVhNMkIsWUFBQVAsVUFBa0JRLEtBQUEsRUFBbEIsR0FDUyxLQUFmUixFQUFTMkMsS0FBVCxLQUFBeEMsRUFBQXdDLE1BWUEzQyxVQVhBcEIsS0FBVTJCLEdBV1YsRUFDQTNCLFVBWE0yQixZQUFBUCxVQUFrQlEsS0FBQSxFQUFsQixHQWVSLEVBRURuQixTQWRTdUQsaUJBR2EsUUFBS2hCLGNBVzNCLEVBQ0FwQyxXQVhHUSxpQkFBQSxRQUFBNkMsTUFXSCxFQUNBekQsU0FYR1IsaUJBQVUyQixRQUFjUCxhQVczQixFQUNBVCxhQVhTcUQsaUJBQUksUUFBZ0JSLGlCQVc3QixFQUNBeEMsU0FYR0ksaUJBQUEsUUFBQWdDLFlBV0gsRUFDQS9DLE9BWEdMLFFBQVMsU0FBQWtFLEdBQUN2QyxPQUFBQSxFQUFjUCxpQkFBQSxRQUF4QkUsU0FBVUssQ0FBQUEsQ0FXYixFQUNBcEIsTUFkUzRELFFBSU4sU0FBQUMsR0FBQSxPQUFBQSxFQUFBSixpQkFBQSxRQUFBbEIsU0FBQSxDQUFBLENBVUgsRUFDQXpDLE9BVkU4RCxRQUFBLFNBQUFELEdBQUEsT0FBQUEsRUFBQUYsaUJBQUEsUUFBQWpCLFNBQUEsQ0FBQSxDQVVGLEVBVEM1QixhQTlERDZDLGlCQUFBLFFBQUFILFNBOERDLEVBV0Q1RCxTQUFTK0QsaUJBQWlCLFVBQVdGLFFBQXJDIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYm90dG9tUm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm91dHB1dF9fZGlnaXQnKTtcclxuY29uc3QgdG9wUm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm91dHB1dF9fc3VibWl0Jyk7XHJcbmNvbnN0IG1pZGRsZVJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vdXRwdXRfX2FjdGlvbicpO1xyXG5jb25zdCBkaWdpdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubnVtYmVyJyk7XHJcbmNvbnN0IHNpZ25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNpZ24nKTtcclxuY29uc3QgY2xlYXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xlYXInKTtcclxuY29uc3QgcG93ZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG93ZXInKTtcclxuY29uc3QgbXVsdGlwbHlCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXVsdGlwbHknKTtcclxuY29uc3QgYmFja3NwYWNlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhY2tzcGFjZScpO1xyXG5jb25zdCBlbGVtZW50QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKTtcclxuY29uc3QgZGl2aWRlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRpdmlkZScpO1xyXG5jb25zdCBtaW51c0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5taW51cycpO1xyXG5jb25zdCBwbHVzQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsdXMnKTtcclxuY29uc3QgZXF1YWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXF1YWwnKTtcclxuY29uc3QgZG90QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRvdCcpO1xyXG5jb25zdCBsYXN0c0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlzdG9yeV9fbGlzdCcpO1xyXG5jb25zdCBidG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhbGN1bGF0b3JfX2Rvd25fX2J0biwgLmVxdWFsJyk7XHJcbmNvbnN0IGNsZWFyTGlzdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oaXN0b3J5X19idG4tY2xlYXInKTtcclxuXHJcbmxldCBjYWxjdWxhdGUgPSBbXTtcclxubGV0IHVsSXRlbVN0b3JhZ2UgPSBbXTtcclxubGV0IGtleURpZ2l0cyA9IFtdO1xyXG5sZXQgc2NvcmU7XHJcbi8vIHNvbWV0aGluZyB0byBmaXggOlxyXG4vLyBtYWtlIGEgZnVuY3Rpb24gdG8gY2hlY2sgdGhlIGRpZ2l0cyBvdXQgb2YgdHlwZURpZ2l0cywgc28gaW4gdHlwZURpZ2l0cyB5b3Ugd2lsbCBvbmx5IHdyb3RlIGl0IGRvd24gaW4gYm90dG9tUm93LlxyXG5cclxuY29uc3QgdHlwZURpZ2l0ID0gZSA9PiB7XHJcblx0aWYgKGNhbGN1bGF0ZS5sZW5ndGggPD0gMTUpIHtcclxuXHRcdGlmIChjYWxjdWxhdGUuaW5jbHVkZXMoJy4nKSkge1xyXG5cdFx0XHRpZiAoZS50YXJnZXQudGV4dENvbnRlbnQgPT09ICcuJykge1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGNhbGN1bGF0ZS5wdXNoKGUudGFyZ2V0LnRleHRDb250ZW50KTtcclxuXHRcdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSBpZiAoIWNhbGN1bGF0ZS5pbmNsdWRlcygnLicpKSB7XHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQuc3RhcnRzV2l0aCgnMCcpICYmXHJcblx0XHRcdFx0KGUudGFyZ2V0LnRleHRDb250ZW50ID09ICcwJyB8fCBlLnRhcmdldC50ZXh0Q29udGVudCA9PSAnMDAnKVxyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHRpZiAoYm90dG9tUm93LnRleHRDb250ZW50Lmxlbmd0aCA+IDEpIHtcclxuXHRcdFx0XHRcdGNhbGN1bGF0ZS5wdXNoKCcwJyk7XHJcblx0XHRcdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKGJvdHRvbVJvdy50ZXh0Q29udGVudC5zdGFydHNXaXRoKCcwJykgJiYgZS50YXJnZXQudGV4dENvbnRlbnQgPT09ICcuJykge1xyXG5cdFx0XHRcdGNhbGN1bGF0ZSA9IFtdO1xyXG5cdFx0XHRcdGNhbGN1bGF0ZS5wdXNoKCcwJyk7XHJcblx0XHRcdFx0Y2FsY3VsYXRlLnB1c2goZS50YXJnZXQudGV4dENvbnRlbnQpO1xyXG5cdFx0XHRcdGJvdHRvbVJvdy50ZXh0Q29udGVudCA9IGNhbGN1bGF0ZS5qb2luKCcnKTtcclxuXHRcdFx0fSBlbHNlIGlmIChjYWxjdWxhdGUubGVuZ3RoID09PSAwICYmIGJvdHRvbVJvdy50ZXh0Q29udGVudC5sZW5ndGggPiAwICYmICFib3R0b21Sb3cudGV4dENvbnRlbnQgPT0gJzAnKSB7XHJcblx0XHRcdFx0aWYgKGUudGFyZ2V0LnRleHRDb250ZW50ID09ICcwJykge1xyXG5cdFx0XHRcdFx0Y2FsY3VsYXRlLnB1c2goJzAnKTtcclxuXHRcdFx0XHRcdGJvdHRvbVJvdy50ZXh0Q29udGVudCA9IGNhbGN1bGF0ZS5qb2luKCcnKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGUudGFyZ2V0LnRleHRDb250ZW50ID09ICcwMCcpIHtcclxuXHRcdFx0XHRcdGNhbGN1bGF0ZS5wdXNoKCcwJyk7XHJcblx0XHRcdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChlLnRhcmdldC50ZXh0Q29udGVudCA9PSAnLicpIHtcclxuXHRcdFx0XHRcdGNhbGN1bGF0ZSA9IFtdO1xyXG5cdFx0XHRcdFx0Y2FsY3VsYXRlLnB1c2goJzAnKTtcclxuXHRcdFx0XHRcdGNhbGN1bGF0ZS5wdXNoKGUudGFyZ2V0LnRleHRDb250ZW50KTtcclxuXHRcdFx0XHRcdGJvdHRvbVJvdy50ZXh0Q29udGVudCA9IGNhbGN1bGF0ZS5qb2luKCcnKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Y2FsY3VsYXRlLnB1c2goZS50YXJnZXQudGV4dENvbnRlbnQpO1xyXG5cdFx0XHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gY2FsY3VsYXRlLmpvaW4oJycpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmIChcclxuXHRcdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQuc3RhcnRzV2l0aCgnMCcpICYmXHJcblx0XHRcdFx0ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdudW1iZXInKSAmJlxyXG5cdFx0XHRcdCFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2RvdCcpXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdGNhbGN1bGF0ZS5wdXNoKCcuJyk7XHJcblx0XHRcdFx0Y2FsY3VsYXRlLnB1c2goZS50YXJnZXQudGV4dENvbnRlbnQpO1xyXG5cdFx0XHRcdGJvdHRvbVJvdy50ZXh0Q29udGVudCA9IGNhbGN1bGF0ZS5qb2luKCcnKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAodG9wUm93LnRleHRDb250ZW50ID09PSAnJykge1xyXG5cdFx0XHRcdFx0Y2FsY3VsYXRlLnB1c2goZS50YXJnZXQudGV4dENvbnRlbnQpO1xyXG5cdFx0XHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gY2FsY3VsYXRlLmpvaW4oJycpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRjYWxjdWxhdGUucHVzaChlLnRhcmdldC50ZXh0Q29udGVudCk7XHJcblx0XHRcdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSBlbHNlIHtcclxuXHRcdGNvbnNvbGUubG9nKCduaWUgbm8gdHlsZSB0byBuaWUnKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBhZGRpdGlvbiA9ICgpID0+IHtcclxuXHRsZXQgeCA9IE51bWJlci5wYXJzZUZsb2F0KHRvcFJvdy50ZXh0Q29udGVudCk7XHJcblx0bGV0IHkgPSBOdW1iZXIucGFyc2VGbG9hdChib3R0b21Sb3cudGV4dENvbnRlbnQpO1xyXG5cdHNjb3JlID0geCArIHk7XHJcblx0dWxJdGVtU3RvcmFnZSA9IFt4LCB5LCBzY29yZV07XHJcblx0Y2FsY3VsYXRlID0gW107XHJcblxyXG5cdGNvbnN0IHVsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcblx0dWxJdGVtLmNsYXNzTGlzdC5hZGQoJ2hpc3RvcnlfX2xpc3RfX2l0ZW0nKTtcclxuXHR1bEl0ZW0udGV4dENvbnRlbnQgPSBgJHt1bEl0ZW1TdG9yYWdlWzBdfSArICR7dWxJdGVtU3RvcmFnZVsxXX0gPSAke3VsSXRlbVN0b3JhZ2VbMl19YDtcclxuXHRsYXN0c0xpc3QuYXBwZW5kKHVsSXRlbSk7XHJcblx0dWxJdGVtU3RvcmFnZSA9IFtdO1xyXG59O1xyXG5jb25zdCBzdWJ0cmFjdGlvbiA9ICgpID0+IHtcclxuXHRsZXQgeCA9IE51bWJlci5wYXJzZUZsb2F0KHRvcFJvdy50ZXh0Q29udGVudCk7XHJcblx0bGV0IHkgPSBOdW1iZXIucGFyc2VGbG9hdChib3R0b21Sb3cudGV4dENvbnRlbnQpO1xyXG5cdHNjb3JlID0geCAtIHk7XHJcblx0Y2FsY3VsYXRlID0gW107XHJcblxyXG5cdHVsSXRlbVN0b3JhZ2UgPSBbeCwgeSwgc2NvcmVdO1xyXG5cdGNvbnN0IHVsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcblx0dWxJdGVtLmNsYXNzTGlzdC5hZGQoJ2hpc3RvcnlfX2xpc3RfX2l0ZW0nKTtcclxuXHR1bEl0ZW0udGV4dENvbnRlbnQgPSBgJHt1bEl0ZW1TdG9yYWdlWzBdfSAtICR7dWxJdGVtU3RvcmFnZVsxXX0gPSAke3VsSXRlbVN0b3JhZ2VbMl19YDtcclxuXHRsYXN0c0xpc3QuYXBwZW5kKHVsSXRlbSk7XHJcblx0dWxJdGVtU3RvcmFnZSA9IFtdO1xyXG59O1xyXG5jb25zdCBtdWx0aXBseSA9ICgpID0+IHtcclxuXHRsZXQgeCA9IE51bWJlci5wYXJzZUZsb2F0KHRvcFJvdy50ZXh0Q29udGVudCk7XHJcblx0bGV0IHkgPSBOdW1iZXIucGFyc2VGbG9hdChib3R0b21Sb3cudGV4dENvbnRlbnQpO1xyXG5cdHNjb3JlID0geCAqIHk7XHJcblx0Y2FsY3VsYXRlID0gW107XHJcblxyXG5cdHVsSXRlbVN0b3JhZ2UgPSBbeCwgeSwgc2NvcmVdO1xyXG5cdGNvbnN0IHVsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcblx0dWxJdGVtLmNsYXNzTGlzdC5hZGQoJ2hpc3RvcnlfX2xpc3RfX2l0ZW0nKTtcclxuXHR1bEl0ZW0udGV4dENvbnRlbnQgPSBgJHt1bEl0ZW1TdG9yYWdlWzBdfSAqICR7dWxJdGVtU3RvcmFnZVsxXX0gPSAke3VsSXRlbVN0b3JhZ2VbMl19YDtcclxuXHRsYXN0c0xpc3QuYXBwZW5kKHVsSXRlbSk7XHJcblx0dWxJdGVtU3RvcmFnZSA9IFtdO1xyXG59O1xyXG5jb25zdCBkaXZpZGUgPSAoKSA9PiB7XHJcblx0bGV0IHggPSBOdW1iZXIucGFyc2VGbG9hdCh0b3BSb3cudGV4dENvbnRlbnQpO1xyXG5cdGxldCB5ID0gTnVtYmVyLnBhcnNlRmxvYXQoYm90dG9tUm93LnRleHRDb250ZW50KTtcclxuXHJcblx0aWYgKHkgPT09IDApIHtcclxuXHRcdGNhbGN1bGF0ZSA9IFtdO1xyXG5cdFx0dWxJdGVtU3RvcmFnZSA9IFt4LCB5LCAnZXJyb3InXTtcclxuXHRcdGNvbnN0IHVsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcblx0XHR1bEl0ZW0uY2xhc3NMaXN0LmFkZCgnaGlzdG9yeV9fbGlzdF9faXRlbScpO1xyXG5cdFx0dWxJdGVtLnRleHRDb250ZW50ID0gYCR7dWxJdGVtU3RvcmFnZVswXX0gLyAke3VsSXRlbVN0b3JhZ2VbMV19ID0gJHt1bEl0ZW1TdG9yYWdlWzJdfWA7XHJcblx0XHRsYXN0c0xpc3QuYXBwZW5kKHVsSXRlbSk7XHJcblx0XHR1bEl0ZW1TdG9yYWdlID0gW107XHJcblx0fSBlbHNlIHtcclxuXHRcdHNjb3JlID0geCAvIHk7XHJcblx0XHRjYWxjdWxhdGUgPSBbXTtcclxuXHRcdHVsSXRlbVN0b3JhZ2UgPSBbeCwgeSwgc2NvcmVdO1xyXG5cdFx0Y29uc3QgdWxJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuXHRcdHVsSXRlbS5jbGFzc0xpc3QuYWRkKCdoaXN0b3J5X19saXN0X19pdGVtJyk7XHJcblx0XHR1bEl0ZW0udGV4dENvbnRlbnQgPSBgJHt1bEl0ZW1TdG9yYWdlWzBdfSAvICR7dWxJdGVtU3RvcmFnZVsxXX0gPSAke3VsSXRlbVN0b3JhZ2VbMl19YDtcclxuXHRcdGxhc3RzTGlzdC5hcHBlbmQodWxJdGVtKTtcclxuXHRcdHVsSXRlbVN0b3JhZ2UgPSBbXTtcclxuXHR9XHJcbn07XHJcbmNvbnN0IHNxdWFyZSA9ICgpID0+IHtcclxuXHRpZiAodG9wUm93LnRleHRDb250ZW50ID09ICcnKSB7XHJcblx0XHRpZiAoIWJvdHRvbVJvdy50ZXh0Q29udGVudCA9PSAnMCcpIHtcclxuXHRcdFx0bGV0IHkgPSBOdW1iZXIucGFyc2VGbG9hdChib3R0b21Sb3cudGV4dENvbnRlbnQpO1xyXG5cdFx0XHRzY29yZSA9IE1hdGguc3FydCh5KTtcclxuXHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gc2NvcmU7XHJcblxyXG5cdFx0XHR1bEl0ZW1TdG9yYWdlID0gW3ksIHNjb3JlXTtcclxuXHRcdFx0Y29uc3QgdWxJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuXHRcdFx0dWxJdGVtLmNsYXNzTGlzdC5hZGQoJ2hpc3RvcnlfX2xpc3RfX2l0ZW0nKTtcclxuXHRcdFx0dWxJdGVtLmlubmVySFRNTCA9IGAmIzg3MzAgJHt1bEl0ZW1TdG9yYWdlWzBdfSA9ICR7dWxJdGVtU3RvcmFnZVsxXX1gO1xyXG5cdFx0XHRsYXN0c0xpc3QuYXBwZW5kKHVsSXRlbSk7XHJcblx0XHRcdHVsSXRlbVN0b3JhZ2UgPSBbXTtcclxuXHRcdH1cclxuXHR9IGVsc2Uge1xyXG5cdFx0bGV0IHkgPSBOdW1iZXIucGFyc2VGbG9hdChib3R0b21Sb3cudGV4dENvbnRlbnQpO1xyXG5cdFx0c2NvcmUgPSBNYXRoLnNxcnQoeSk7XHJcblx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBzY29yZTtcclxuXHRcdGNoZWNrU2lnbigpO1xyXG5cclxuXHRcdHVsSXRlbVN0b3JhZ2UgPSBbeSwgc2NvcmVdO1xyXG5cdFx0Y29uc3QgdWxJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuXHRcdHVsSXRlbS5jbGFzc0xpc3QuYWRkKCdoaXN0b3J5X19saXN0X19pdGVtJyk7XHJcblx0XHR1bEl0ZW0uaW5uZXJIVE1MID0gYCYjODczMCAke3VsSXRlbVN0b3JhZ2VbMF19ID0gJHt1bEl0ZW1TdG9yYWdlWzFdfWA7XHJcblx0XHRsYXN0c0xpc3QuYXBwZW5kKHVsSXRlbSk7XHJcblx0XHR1bEl0ZW1TdG9yYWdlID0gW107XHJcblx0fVxyXG5cdGNhbGN1bGF0ZSA9IFtdO1xyXG5cdGNoZWNrU2l6ZSgpO1xyXG59O1xyXG5jb25zdCBleHBvbmVudGlhdGlvbiA9ICgpID0+IHtcclxuXHRpZiAodG9wUm93LnRleHRDb250ZW50ID09ICcnKSB7XHJcblx0XHRpZiAoIWJvdHRvbVJvdy50ZXh0Q29udGVudCA9PSAnMCcpIHtcclxuXHRcdFx0bGV0IHkgPSBOdW1iZXIucGFyc2VGbG9hdChib3R0b21Sb3cudGV4dENvbnRlbnQpO1xyXG5cdFx0XHRzY29yZSA9IE1hdGgucG93KHksIDIpO1xyXG5cdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBzY29yZTtcclxuXHJcblx0XHRcdHVsSXRlbVN0b3JhZ2UgPSBbeSwgc2NvcmVdO1xyXG5cdFx0XHRjb25zdCB1bEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG5cdFx0XHR1bEl0ZW0uY2xhc3NMaXN0LmFkZCgnaGlzdG9yeV9fbGlzdF9faXRlbScpO1xyXG5cdFx0XHR1bEl0ZW0uaW5uZXJIVE1MID0gYCR7dWxJdGVtU3RvcmFnZVswXX08c3VwPjI8L3N1cD4gPSAke3VsSXRlbVN0b3JhZ2VbMV19YDtcclxuXHRcdFx0bGFzdHNMaXN0LmFwcGVuZCh1bEl0ZW0pO1xyXG5cdFx0XHR1bEl0ZW1TdG9yYWdlID0gW107XHJcblx0XHR9XHJcblx0fSBlbHNlIHtcclxuXHRcdGxldCB5ID0gTnVtYmVyLnBhcnNlRmxvYXQoYm90dG9tUm93LnRleHRDb250ZW50KTtcclxuXHRcdHNjb3JlID0gTWF0aC5wb3coeSwgMik7XHJcblx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBzY29yZTtcclxuXHRcdGNoZWNrU2lnbigpO1xyXG5cclxuXHRcdHVsSXRlbVN0b3JhZ2UgPSBbeSwgc2NvcmVdO1xyXG5cdFx0Y29uc3QgdWxJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuXHRcdHVsSXRlbS5jbGFzc0xpc3QuYWRkKCdoaXN0b3J5X19saXN0X19pdGVtJyk7XHJcblx0XHR1bEl0ZW0uaW5uZXJIVE1MID0gYCR7dWxJdGVtU3RvcmFnZVswXX08c3VwPjI8L3N1cD4gPSAke3VsSXRlbVN0b3JhZ2VbMV19YDtcclxuXHRcdGxhc3RzTGlzdC5hcHBlbmQodWxJdGVtKTtcclxuXHRcdHVsSXRlbVN0b3JhZ2UgPSBbXTtcclxuXHR9XHJcblx0Y2FsY3VsYXRlID0gW107XHJcblx0Y2hlY2tTaXplKCk7XHJcbn07XHJcblxyXG5jb25zdCBjaG9vc2VBY3Rpb24gPSAoKSA9PiB7XHJcblx0aWYgKCF0b3BSb3cudGV4dENvbnRlbnQgPT0gJycgJiYgIW1pZGRsZVJvdy50ZXh0Q29udGVudCA9PSAnJyAmJiAhYm90dG9tUm93LnRleHRDb250ZW50ID09ICcnKSB7XHJcblx0XHRpZiAobWlkZGxlUm93LnRleHRDb250ZW50ID09PSAnKycpIHtcclxuXHRcdFx0YWRkaXRpb24oKTtcclxuXHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gc2NvcmU7XHJcblx0XHRcdHRvcFJvdy50ZXh0Q29udGVudCA9ICcnO1xyXG5cdFx0XHRtaWRkbGVSb3cudGV4dENvbnRlbnQgPSAnJztcclxuXHRcdH0gZWxzZSBpZiAobWlkZGxlUm93LnRleHRDb250ZW50ID09PSAnLScpIHtcclxuXHRcdFx0c3VidHJhY3Rpb24oKTtcclxuXHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gc2NvcmU7XHJcblx0XHRcdHRvcFJvdy50ZXh0Q29udGVudCA9ICcnO1xyXG5cdFx0XHRtaWRkbGVSb3cudGV4dENvbnRlbnQgPSAnJztcclxuXHRcdH0gZWxzZSBpZiAobWlkZGxlUm93LnRleHRDb250ZW50ID09PSAnKicpIHtcclxuXHRcdFx0bXVsdGlwbHkoKTtcclxuXHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gc2NvcmU7XHJcblx0XHRcdHRvcFJvdy50ZXh0Q29udGVudCA9ICcnO1xyXG5cdFx0XHRtaWRkbGVSb3cudGV4dENvbnRlbnQgPSAnJztcclxuXHRcdH0gZWxzZSBpZiAobWlkZGxlUm93LnRleHRDb250ZW50ID09PSAnLycpIHtcclxuXHRcdFx0aWYgKGJvdHRvbVJvdy50ZXh0Q29udGVudCA9PT0gJzAnKSB7XHJcblx0XHRcdFx0ZGl2aWRlKCk7XHJcblx0XHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gJ2Vycm9yJztcclxuXHRcdFx0XHR0b3BSb3cudGV4dENvbnRlbnQgPSAnJztcclxuXHRcdFx0XHRtaWRkbGVSb3cudGV4dENvbnRlbnQgPSAnJztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRkaXZpZGUoKTtcclxuXHRcdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBzY29yZTtcclxuXHRcdFx0XHR0b3BSb3cudGV4dENvbnRlbnQgPSAnJztcclxuXHRcdFx0XHRtaWRkbGVSb3cudGV4dENvbnRlbnQgPSAnJztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Y2hlY2tTaXplKCk7XHJcblx0fVxyXG59O1xyXG5jb25zdCBxdWlja0FjdGlvbiA9ICgpID0+IHtcclxuXHRpZiAobWlkZGxlUm93LnRleHRDb250ZW50ID09PSAnKycpIHtcclxuXHRcdGFkZGl0aW9uKCk7XHJcblx0XHR0b3BSb3cudGV4dENvbnRlbnQgPSBzY29yZTtcclxuXHR9IGVsc2UgaWYgKG1pZGRsZVJvdy50ZXh0Q29udGVudCA9PT0gJy0nKSB7XHJcblx0XHRzdWJ0cmFjdGlvbigpO1xyXG5cdFx0dG9wUm93LnRleHRDb250ZW50ID0gc2NvcmU7XHJcblx0fSBlbHNlIGlmIChtaWRkbGVSb3cudGV4dENvbnRlbnQgPT09ICcqJykge1xyXG5cdFx0bXVsdGlwbHkoKTtcclxuXHRcdHRvcFJvdy50ZXh0Q29udGVudCA9IHNjb3JlO1xyXG5cdH0gZWxzZSBpZiAobWlkZGxlUm93LnRleHRDb250ZW50ID09PSAnLycpIHtcclxuXHRcdGRpdmlkZSgpO1xyXG5cdFx0dG9wUm93LnRleHRDb250ZW50ID0gc2NvcmU7XHJcblx0fVxyXG59O1xyXG5jb25zdCBjaGVja1NpZ24gPSBlID0+IHtcclxuXHRpZiAodG9wUm93LnRleHRDb250ZW50ID09ICcnKSB7XHJcblx0XHRpZiAoIWJvdHRvbVJvdy50ZXh0Q29udGVudCA9PSAnMCcpIHtcclxuXHRcdFx0bWlkZGxlUm93LnRleHRDb250ZW50ID0gZS50YXJnZXQudGV4dENvbnRlbnQ7XHJcblx0XHRcdHRvcFJvdy50ZXh0Q29udGVudCA9IGJvdHRvbVJvdy50ZXh0Q29udGVudDtcclxuXHRcdFx0Y2FsY3VsYXRlID0gW107XHJcblx0XHR9XHJcblx0fSBlbHNlIGlmICghdG9wUm93LnRleHRDb250ZW50ID09ICcnKSB7XHJcblx0XHRpZiAoYm90dG9tUm93LnRleHRDb250ZW50ID09ICcwJykge1xyXG5cdFx0XHRxdWlja0FjdGlvbigpO1xyXG5cdFx0fSBlbHNlIGlmICghYm90dG9tUm93LnRleHRDb250ZW50ID09ICcwJykge1xyXG5cdFx0XHRpZiAobWlkZGxlUm93LnRleHRDb250ZW50ID09PSBlLnRhcmdldC50ZXh0Q29udGVudCkge1xyXG5cdFx0XHRcdHF1aWNrQWN0aW9uKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bWlkZGxlUm93LnRleHRDb250ZW50ID0gZS50YXJnZXQudGV4dENvbnRlbnQ7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBkZWxldGVPbmVGdW5jdGlvbiA9ICgpID0+IHtcclxuXHRpZiAoY2FsY3VsYXRlLmxlbmd0aCA8PSAxKSB7XHJcblx0XHRjYWxjdWxhdGUgPSBbXTtcclxuXHRcdGJvdHRvbVJvdy50ZXh0Q29udGVudCA9ICcwJztcclxuXHR9IGVsc2UgaWYgKGNhbGN1bGF0ZS5sZW5ndGggPiAxKSB7XHJcblx0XHRjYWxjdWxhdGUucG9wKCk7XHJcblx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0fVxyXG59O1xyXG5jb25zdCBjbGVhckZ1bmN0aW9uID0gKCkgPT4ge1xyXG5cdGNhbGN1bGF0ZSA9IFtdO1xyXG5cdHRvcFJvdy50ZXh0Q29udGVudCA9ICcnO1xyXG5cdG1pZGRsZVJvdy50ZXh0Q29udGVudCA9ICcnO1xyXG5cdGJvdHRvbVJvdy50ZXh0Q29udGVudCA9ICcwJztcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrU2l6ZSA9ICgpID0+IHtcclxuXHRpZiAoYm90dG9tUm93LnRleHRDb250ZW50Lmxlbmd0aCA+IDApIHtcclxuXHRcdGJvdHRvbVJvdy5zdHlsZS5mb250U2l6ZSA9ICczLjVyZW0nO1xyXG5cdFx0aWYgKGJvdHRvbVJvdy50ZXh0Q29udGVudC5sZW5ndGggPiAxMCkge1xyXG5cdFx0XHRib3R0b21Sb3cuc3R5bGUuZm9udFNpemUgPSAnMy4zcmVtJztcclxuXHRcdFx0aWYgKGJvdHRvbVJvdy50ZXh0Q29udGVudC5sZW5ndGggPj0gMTIpIHtcclxuXHRcdFx0XHRib3R0b21Sb3cuc3R5bGUuZm9udFNpemUgPSAnMy4xcmVtJztcclxuXHRcdFx0XHRpZiAoYm90dG9tUm93LnRleHRDb250ZW50Lmxlbmd0aCA+PSAxNCkge1xyXG5cdFx0XHRcdFx0Ym90dG9tUm93LnN0eWxlLmZvbnRTaXplID0gJzIuOHJlbSc7XHJcblx0XHRcdFx0XHRpZiAoYm90dG9tUm93LnRleHRDb250ZW50Lmxlbmd0aCA+IDE2KSB7XHJcblx0XHRcdFx0XHRcdGJvdHRvbVJvdy5zdHlsZS5mb250U2l6ZSA9ICcyLjVyZW0nO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGNsZWFyTGlzdCA9ICgpID0+IHtcclxuXHRsYXN0c0xpc3QuaW5uZXJIVE1MID0gJyc7XHJcbn07XHJcbmNvbnN0IGtleVByZXNzID0gZSA9PiB7XHJcblx0aWYgKGNhbGN1bGF0ZS5sZW5ndGggPD0gMTYpIHtcclxuXHRcdGlmIChlLmtleSA9PSAnKycgJiYgIWJvdHRvbVJvdy50ZXh0Q29udGVudCA9PSAnMCcpIHtcclxuXHRcdFx0bWlkZGxlUm93LnRleHRDb250ZW50ID0gJysnO1xyXG5cdFx0XHR0b3BSb3cudGV4dENvbnRlbnQgPSBib3R0b21Sb3cudGV4dENvbnRlbnQ7XHJcblx0XHRcdGNhbGN1bGF0ZSA9IFtdO1xyXG5cdFx0fSBlbHNlIGlmIChlLmtleSA9PSAnLScgJiYgIWJvdHRvbVJvdy50ZXh0Q29udGVudCA9PSAnMCcpIHtcclxuXHRcdFx0bWlkZGxlUm93LnRleHRDb250ZW50ID0gJy0nO1xyXG5cdFx0XHR0b3BSb3cudGV4dENvbnRlbnQgPSBib3R0b21Sb3cudGV4dENvbnRlbnQ7XHJcblx0XHRcdGNhbGN1bGF0ZSA9IFtdO1xyXG5cdFx0fSBlbHNlIGlmIChlLmtleSA9PSAnKicgJiYgIWJvdHRvbVJvdy50ZXh0Q29udGVudCA9PSAnMCcpIHtcclxuXHRcdFx0bWlkZGxlUm93LnRleHRDb250ZW50ID0gJyonO1xyXG5cdFx0XHR0b3BSb3cudGV4dENvbnRlbnQgPSBib3R0b21Sb3cudGV4dENvbnRlbnQ7XHJcblx0XHRcdGNhbGN1bGF0ZSA9IFtdO1xyXG5cdFx0fSBlbHNlIGlmIChlLmtleSA9PSAnLycgJiYgIWJvdHRvbVJvdy50ZXh0Q29udGVudCA9PSAnMCcpIHtcclxuXHRcdFx0bWlkZGxlUm93LnRleHRDb250ZW50ID0gJy8nO1xyXG5cdFx0XHR0b3BSb3cudGV4dENvbnRlbnQgPSBib3R0b21Sb3cudGV4dENvbnRlbnQ7XHJcblx0XHRcdGNhbGN1bGF0ZSA9IFtdO1xyXG5cdFx0fSBlbHNlIGlmICgoZS5rZXkgPT0gJz0nIHx8IGUua2V5ID09ICdFbnRlcicpICYmICFib3R0b21Sb3cudGV4dENvbnRlbnQgPT0gJzAnKSB7XHJcblx0XHRcdGNob29zZUFjdGlvbigpO1xyXG5cdFx0fSBlbHNlIGlmIChlLmtleSA9PSAnQmFja3NwYWNlJykge1xyXG5cdFx0XHRkZWxldGVPbmVGdW5jdGlvbigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGRpZ2l0cyBhbmQgZG90IGJlbG93IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5cdFx0aWYgKGUua2V5ID09ICcxJykge1xyXG5cdFx0XHRjYWxjdWxhdGUucHVzaCgnMScpO1xyXG5cdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0XHR9IGVsc2UgaWYgKGUua2V5ID09ICcyJykge1xyXG5cdFx0XHRjYWxjdWxhdGUucHVzaCgnMicpO1xyXG5cdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0XHR9IGVsc2UgaWYgKGUua2V5ID09ICczJykge1xyXG5cdFx0XHRjYWxjdWxhdGUucHVzaCgnMycpO1xyXG5cdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0XHR9IGVsc2UgaWYgKGUua2V5ID09ICc0Jykge1xyXG5cdFx0XHRjYWxjdWxhdGUucHVzaCgnNCcpO1xyXG5cdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0XHR9IGVsc2UgaWYgKGUua2V5ID09ICc1Jykge1xyXG5cdFx0XHRjYWxjdWxhdGUucHVzaCgnNScpO1xyXG5cdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0XHR9IGVsc2UgaWYgKGUua2V5ID09ICc2Jykge1xyXG5cdFx0XHRjYWxjdWxhdGUucHVzaCgnNicpO1xyXG5cdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0XHR9IGVsc2UgaWYgKGUua2V5ID09ICc3Jykge1xyXG5cdFx0XHRjYWxjdWxhdGUucHVzaCgnNycpO1xyXG5cdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0XHR9IGVsc2UgaWYgKGUua2V5ID09ICc4Jykge1xyXG5cdFx0XHRjYWxjdWxhdGUucHVzaCgnOCcpO1xyXG5cdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0XHR9IGVsc2UgaWYgKGUua2V5ID09ICc5Jykge1xyXG5cdFx0XHRjYWxjdWxhdGUucHVzaCgnOScpO1xyXG5cdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0XHR9IGVsc2UgaWYgKGUua2V5ID09ICcwJykge1xyXG5cdFx0XHRjYWxjdWxhdGUucHVzaCgnMCcpO1xyXG5cdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0XHR9IGVsc2UgaWYgKGUua2V5ID09ICcuJyB8fCBlLmtleSA9PSAnLCcpIHtcclxuXHRcdFx0Y2FsY3VsYXRlLnB1c2goJy4nKTtcclxuXHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gY2FsY3VsYXRlLmpvaW4oJycpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG5wb3dlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV4cG9uZW50aWF0aW9uKTtcclxuZWxlbWVudEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNxdWFyZSk7XHJcbmNsZWFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xlYXJGdW5jdGlvbik7XHJcbmJhY2tzcGFjZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRlbGV0ZU9uZUZ1bmN0aW9uKTtcclxuZXF1YWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaG9vc2VBY3Rpb24pO1xyXG5kaWdpdHMuZm9yRWFjaChkaWdpdCA9PiBkaWdpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHR5cGVEaWdpdCkpO1xyXG5zaWducy5mb3JFYWNoKHNpZ24gPT4gc2lnbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZWNrU2lnbikpO1xyXG5kaWdpdHMuZm9yRWFjaChkaWdpdCA9PiBkaWdpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZWNrU2l6ZSkpO1xyXG5jbGVhckxpc3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGVhckxpc3QpO1xyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywga2V5UHJlc3MpO1xyXG4iXX0=
