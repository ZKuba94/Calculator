"use strict";var score,bottomRow=document.querySelector(".output__digit"),topRow=document.querySelector(".output__submit"),middleRow=document.querySelector(".output__action"),digits=document.querySelectorAll(".number"),signs=document.querySelectorAll(".sign"),clearBtn=document.querySelector(".clear"),powerBtn=document.querySelector(".power"),multiplyBtn=document.querySelector(".multiply"),backspaceBtn=document.querySelector(".backspace"),elementBtn=document.querySelector(".element"),divideBtn=document.querySelector(".divide"),minusBtn=document.querySelector(".minus"),plusBtn=document.querySelector(".plus"),equalBtn=document.querySelector(".equal"),dotBtn=document.querySelector(".dot"),lastsList=document.querySelector(".history__list"),btns=document.querySelectorAll(".calculator__down__btn, .equal"),clearListBtn=document.querySelector(".history__btn-clear"),calculate=[],ulItemStorage=[],keyDigits=[],typeDigit=function(t){calculate.length<=15?calculate.includes(".")?"."!==t.target.textContent&&(calculate.push(t.target.textContent),bottomRow.textContent=calculate.join("")):calculate.includes(".")||(!bottomRow.textContent.startsWith("0")||"0"!=t.target.textContent&&"00"!=t.target.textContent?(bottomRow.textContent.startsWith("0")&&"."===t.target.textContent?((calculate=[]).push("0"),calculate.push(t.target.textContent)):0===calculate.length&&0<bottomRow.textContent.length&&"0"==!bottomRow.textContent?"0"==t.target.textContent||"00"==t.target.textContent?calculate.push("0"):("."==t.target.textContent&&(calculate=[]).push("0"),calculate.push(t.target.textContent)):(bottomRow.textContent.startsWith("0")&&t.target.classList.contains("number")&&!t.target.classList.contains("dot")?calculate.push("."):topRow.textContent,calculate.push(t.target.textContent)),bottomRow.textContent=calculate.join("")):1<bottomRow.textContent.length&&(calculate.push("0"),bottomRow.textContent=calculate.join(""))):console.log("nie no tyle to nie")},addition=function(){var t=Number.parseFloat(topRow.textContent),e=Number.parseFloat(bottomRow.textContent),t=(ulItemStorage=[t,e,score=t+e],calculate=[],document.createElement("li"));t.classList.add("history__list__item"),t.textContent="".concat(ulItemStorage[0]," + ").concat(ulItemStorage[1]," = ").concat(ulItemStorage[2]),lastsList.append(t),ulItemStorage=[]},subtraction=function(){var t=Number.parseFloat(topRow.textContent),e=Number.parseFloat(bottomRow.textContent),t=(calculate=[],ulItemStorage=[t,e,score=t-e],document.createElement("li"));t.classList.add("history__list__item"),t.textContent="".concat(ulItemStorage[0]," - ").concat(ulItemStorage[1]," = ").concat(ulItemStorage[2]),lastsList.append(t),ulItemStorage=[]},multiply=function(){var t=Number.parseFloat(topRow.textContent),e=Number.parseFloat(bottomRow.textContent),t=(calculate=[],ulItemStorage=[t,e,score=t*e],document.createElement("li"));t.classList.add("history__list__item"),t.textContent="".concat(ulItemStorage[0]," * ").concat(ulItemStorage[1]," = ").concat(ulItemStorage[2]),lastsList.append(t),ulItemStorage=[]},divide=function(){var t=Number.parseFloat(topRow.textContent),e=Number.parseFloat(bottomRow.textContent),t=(calculate=[],ulItemStorage=[t,e,score=t/e],document.createElement("li"));t.classList.add("history__list__item"),t.textContent="".concat(ulItemStorage[0]," / ").concat(ulItemStorage[1]," = ").concat(ulItemStorage[2]),lastsList.append(t),ulItemStorage=[]},square=function(){var t;""==topRow.textContent?"0"==!bottomRow.textContent&&(t=Number.parseFloat(bottomRow.textContent),score=Math.sqrt(t),bottomRow.textContent=score,ulItemStorage=[t,score],(t=document.createElement("li")).classList.add("history__list__item"),t.innerHTML="&#8730 ".concat(ulItemStorage[0]," = ").concat(ulItemStorage[1]),lastsList.append(t),ulItemStorage=[]):(t=Number.parseFloat(bottomRow.textContent),score=Math.sqrt(t),bottomRow.textContent=score,checkSign(),ulItemStorage=[t,score],(t=document.createElement("li")).classList.add("history__list__item"),t.innerHTML="&#8730 ".concat(ulItemStorage[0]," = ").concat(ulItemStorage[1]),lastsList.append(t),ulItemStorage=[]),calculate=[],checkSize()},exponentiation=function(){var t;""==topRow.textContent?"0"==!bottomRow.textContent&&(t=Number.parseFloat(bottomRow.textContent),score=Math.pow(t,2),bottomRow.textContent=score,ulItemStorage=[t,score],(t=document.createElement("li")).classList.add("history__list__item"),t.innerHTML="".concat(ulItemStorage[0],"<sup>2</sup> = ").concat(ulItemStorage[1]),lastsList.append(t),ulItemStorage=[]):(t=Number.parseFloat(bottomRow.textContent),score=Math.pow(t,2),bottomRow.textContent=score,checkSign(),ulItemStorage=[t,score],(t=document.createElement("li")).classList.add("history__list__item"),t.innerHTML="".concat(ulItemStorage[0],"<sup>2</sup> = ").concat(ulItemStorage[1]),lastsList.append(t),ulItemStorage=[]),calculate=[],checkSize()},chooseAction=function(){""==!topRow.textContent&&""==!middleRow.textContent&&""==!bottomRow.textContent&&("+"===middleRow.textContent?(addition(),bottomRow.textContent=score,topRow.textContent="",middleRow.textContent=""):"-"===middleRow.textContent?(subtraction(),bottomRow.textContent=score,topRow.textContent="",middleRow.textContent=""):"*"===middleRow.textContent?(multiply(),bottomRow.textContent=score,topRow.textContent="",middleRow.textContent=""):"/"===middleRow.textContent&&(divide(),bottomRow.textContent=score,topRow.textContent="",middleRow.textContent=""),checkSize())},quickAction=function(){"+"===middleRow.textContent?(addition(),topRow.textContent=score):"-"===middleRow.textContent?(subtraction(),topRow.textContent=score):"*"===middleRow.textContent?(multiply(),topRow.textContent=score):"/"===middleRow.textContent&&(divide(),topRow.textContent=score)},checkSign=function(t){""==topRow.textContent?"0"==!bottomRow.textContent&&(middleRow.textContent=t.target.textContent,topRow.textContent=bottomRow.textContent,calculate=[]):""==!topRow.textContent&&("0"==bottomRow.textContent?quickAction():"0"==!bottomRow.textContent&&(middleRow.textContent===t.target.textContent?quickAction():middleRow.textContent=t.target.textContent))},deleteOneFunction=function(){calculate.length<=1?(calculate=[],bottomRow.textContent="0"):1<calculate.length&&(calculate.pop(),bottomRow.textContent=calculate.join(""))},clearFunction=function(){calculate=[],topRow.textContent="",middleRow.textContent="",bottomRow.textContent="0"},checkSize=function(){0<bottomRow.textContent.length&&(bottomRow.style.fontSize="3.5rem",10<bottomRow.textContent.length&&(bottomRow.style.fontSize="3.3rem",12<=bottomRow.textContent.length&&(bottomRow.style.fontSize="3.1rem",14<=bottomRow.textContent.length&&(bottomRow.style.fontSize="2.8rem",16<bottomRow.textContent.length&&(bottomRow.style.fontSize="2.5rem")))))},clearList=function(){lastsList.innerHTML=""},keyPress=function(t){calculate.length<=16&&("+"==t.key&&"0"==!bottomRow.textContent?(middleRow.textContent="+",topRow.textContent=bottomRow.textContent,calculate=[]):"-"==t.key&&"0"==!bottomRow.textContent?(middleRow.textContent="-",topRow.textContent=bottomRow.textContent,calculate=[]):"*"==t.key&&"0"==!bottomRow.textContent?(middleRow.textContent="*",topRow.textContent=bottomRow.textContent,calculate=[]):"/"==t.key&&"0"==!bottomRow.textContent?(middleRow.textContent="/",topRow.textContent=bottomRow.textContent,calculate=[]):"="!=t.key&&"Enter"!=t.key||"0"!=!bottomRow.textContent?"Backspace"==t.key&&deleteOneFunction():chooseAction(),"1"==t.key?(calculate.push("1"),bottomRow.textContent=calculate.join("")):"2"==t.key?(calculate.push("2"),bottomRow.textContent=calculate.join("")):"3"==t.key?(calculate.push("3"),bottomRow.textContent=calculate.join("")):"4"==t.key?(calculate.push("4"),bottomRow.textContent=calculate.join("")):"5"==t.key?(calculate.push("5"),bottomRow.textContent=calculate.join("")):"6"==t.key?(calculate.push("6"),bottomRow.textContent=calculate.join("")):"7"==t.key?(calculate.push("7"),bottomRow.textContent=calculate.join("")):"8"==t.key?(calculate.push("8"),bottomRow.textContent=calculate.join("")):"9"==t.key?(calculate.push("9"),bottomRow.textContent=calculate.join("")):"0"==t.key?(calculate.push("0"),bottomRow.textContent=calculate.join("")):"."!=t.key&&","!=t.key||(calculate.push("."),bottomRow.textContent=calculate.join("")))};powerBtn.addEventListener("click",exponentiation),elementBtn.addEventListener("click",square),clearBtn.addEventListener("click",clearFunction),backspaceBtn.addEventListener("click",deleteOneFunction),equalBtn.addEventListener("click",chooseAction),digits.forEach(function(t){return t.addEventListener("click",typeDigit)}),signs.forEach(function(t){return t.addEventListener("click",checkSign)}),digits.forEach(function(t){return t.addEventListener("click",checkSize)}),clearListBtn.addEventListener("click",clearList),document.addEventListener("keydown",keyPress);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsia2V5RGlnaXRzIiwiYm90dG9tUm93IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidG9wUm93IiwibWlkZGxlUm93IiwiZGlnaXRzIiwicXVlcnlTZWxlY3RvckFsbCIsInNpZ25zIiwiY2xlYXJCdG4iLCJwb3dlckJ0biIsIm11bHRpcGx5QnRuIiwiYmFja3NwYWNlQnRuIiwiZWxlbWVudEJ0biIsImRpdmlkZUJ0biIsIm1pbnVzQnRuIiwicGx1c0J0biIsImVxdWFsQnRuIiwiZG90QnRuIiwibGFzdHNMaXN0IiwiY2xlYXJMaXN0QnRuIiwiY2FsY3VsYXRlIiwidWxJdGVtU3RvcmFnZSIsInR5cGVEaWdpdCIsImUiLCJsZW5ndGgiLCJpbmNsdWRlcyIsInRhcmdldCIsInRleHRDb250ZW50Iiwiam9pbiIsInN0YXJ0c1dpdGgiLCJwdXNoIiwiY29uc29sZSIsInVsSXRlbSIsImFwcGVuZCIsInBhcnNlRmxvYXQiLCJ4IiwieSIsInNjb3JlIiwic3VidHJhY3Rpb24iLCJjbGFzc0xpc3QiLCJhZGQiLCJjb25jYXQiLCJOdW1iZXIiLCJNYXRoIiwic3FydCIsImNyZWF0ZUVsZW1lbnQiLCJjaGVja1NpZ24iLCJpbm5lckhUTUwiLCJjaGVja1NpemUiLCJwb3ciLCJjaG9vc2VBY3Rpb24iLCJhZGRpdGlvbiIsIm11bHRpcGx5IiwiZGl2aWRlIiwicXVpY2tBY3Rpb24iLCJkZWxldGVPbmVGdW5jdGlvbiIsImNsZWFyRnVuY3Rpb24iLCJzdHlsZSIsImZvbnRTaXplIiwiY2xlYXJMaXN0Iiwia2V5UHJlc3MiLCJrZXkiLCJleHBvbmVudGlhdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJmb3JFYWNoIiwiZGlnaXQiXSwibWFwcGluZ3MiOiJhQUFBLElBcUJJQSxNQXJCRUMsVUFBWUMsU0FBU0MsY0FBYyxnQkFBdkIsRUFDWkMsT0FBU0YsU0FBU0MsY0FBYyxpQkFBdkIsRUFEVEYsVUFBWUMsU0FBU0MsY0FBYyxpQkFB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VUFBQVEsS0FBQSxFQUFBLEdBV0YsRUFFRG5CLFNBUEdXLGlCQUFBLFFBQUEwQyxjQU9ILEVBQ0FsRCxXQVBHWixpQkFBQSxRQUF3Qm9CLE1BTzNCLEVBQ0FaLFNBVlN1RCxpQkFJTixRQUFBUCxhQU1ILEVBQ0E3QyxhQU5Fb0QsaUJBQUEsUUFBQVIsaUJBTUYsRUFMQ3ZDLFNBOUREK0MsaUJBQUEsUUFBQWIsWUE4REMsRUFPRDdDLE9BQU8yRCxRQUFRLFNBQUFDLEdBQUssT0FBSUEsRUFBTUYsaUJBQWlCLFFBQVN6QyxTQUFoQyxDQUFKLENBQXBCLEVBTEFiLE1BQUFBLFFBQVNzRCxTQUFBQSxHQUFBQSxPQUFBQSxFQUFpQkEsaUJBQVNELFFBQW5DaEIsU0FBU2lCLENBQUFBLENBQVR0RCxFQUNBRyxPQUFBQSxRQUFXbUQsU0FBQUEsR0FBQUEsT0FBQUEsRUFBaUJBLGlCQUE1QixRQUFBZixTQUFXZSxDQUFBQSxDQUFYbkQsRUFDQUosYUFBU3VELGlCQUFpQixRQUFTUCxTQUFuQ2hELEVBQ0FHLFNBQUFBLGlCQUFhb0QsVUFBYkgsUUFBQWpEIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYm90dG9tUm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm91dHB1dF9fZGlnaXQnKTtcclxuY29uc3QgdG9wUm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm91dHB1dF9fc3VibWl0Jyk7XHJcbmNvbnN0IG1pZGRsZVJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vdXRwdXRfX2FjdGlvbicpO1xyXG5jb25zdCBkaWdpdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubnVtYmVyJyk7XHJcbmNvbnN0IHNpZ25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNpZ24nKTtcclxuY29uc3QgY2xlYXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xlYXInKTtcclxuY29uc3QgcG93ZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG93ZXInKTtcclxuY29uc3QgbXVsdGlwbHlCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXVsdGlwbHknKTtcclxuY29uc3QgYmFja3NwYWNlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhY2tzcGFjZScpO1xyXG5jb25zdCBlbGVtZW50QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKTtcclxuY29uc3QgZGl2aWRlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRpdmlkZScpO1xyXG5jb25zdCBtaW51c0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5taW51cycpO1xyXG5jb25zdCBwbHVzQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsdXMnKTtcclxuY29uc3QgZXF1YWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXF1YWwnKTtcclxuY29uc3QgZG90QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRvdCcpO1xyXG5jb25zdCBsYXN0c0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlzdG9yeV9fbGlzdCcpO1xyXG5jb25zdCBidG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhbGN1bGF0b3JfX2Rvd25fX2J0biwgLmVxdWFsJyk7XHJcbmNvbnN0IGNsZWFyTGlzdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oaXN0b3J5X19idG4tY2xlYXInKTtcclxuXHJcbmxldCBjYWxjdWxhdGUgPSBbXTtcclxubGV0IHVsSXRlbVN0b3JhZ2UgPSBbXTtcclxubGV0IGtleURpZ2l0cyA9IFtdO1xyXG5sZXQgc2NvcmU7XHJcbi8vIHNvbWV0aGluZyB0byBmaXggOlxyXG4vLyBtYWtlIGEgZnVuY3Rpb24gdG8gY2hlY2sgdGhlIGRpZ2l0cyBvdXQgb2YgdHlwZURpZ2l0cywgc28gaW4gdHlwZURpZ2l0cyB5b3Ugd2lsbCBvbmx5IHdyb3RlIGl0IGRvd24gaW4gYm90dG9tUm93LlxyXG5cclxuY29uc3QgdHlwZURpZ2l0ID0gZSA9PiB7XHJcblx0aWYgKGNhbGN1bGF0ZS5sZW5ndGggPD0gMTUpIHtcclxuXHRcdGlmIChjYWxjdWxhdGUuaW5jbHVkZXMoJy4nKSkge1xyXG5cdFx0XHRpZiAoZS50YXJnZXQudGV4dENvbnRlbnQgPT09ICcuJykge1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGNhbGN1bGF0ZS5wdXNoKGUudGFyZ2V0LnRleHRDb250ZW50KTtcclxuXHRcdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSBpZiAoIWNhbGN1bGF0ZS5pbmNsdWRlcygnLicpKSB7XHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQuc3RhcnRzV2l0aCgnMCcpICYmXHJcblx0XHRcdFx0KGUudGFyZ2V0LnRleHRDb250ZW50ID09ICcwJyB8fCBlLnRhcmdldC50ZXh0Q29udGVudCA9PSAnMDAnKVxyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHRpZiAoYm90dG9tUm93LnRleHRDb250ZW50Lmxlbmd0aCA+IDEpIHtcclxuXHRcdFx0XHRcdGNhbGN1bGF0ZS5wdXNoKCcwJyk7XHJcblx0XHRcdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKGJvdHRvbVJvdy50ZXh0Q29udGVudC5zdGFydHNXaXRoKCcwJykgJiYgZS50YXJnZXQudGV4dENvbnRlbnQgPT09ICcuJykge1xyXG5cdFx0XHRcdGNhbGN1bGF0ZSA9IFtdO1xyXG5cdFx0XHRcdGNhbGN1bGF0ZS5wdXNoKCcwJyk7XHJcblx0XHRcdFx0Y2FsY3VsYXRlLnB1c2goZS50YXJnZXQudGV4dENvbnRlbnQpO1xyXG5cdFx0XHRcdGJvdHRvbVJvdy50ZXh0Q29udGVudCA9IGNhbGN1bGF0ZS5qb2luKCcnKTtcclxuXHRcdFx0fSBlbHNlIGlmIChjYWxjdWxhdGUubGVuZ3RoID09PSAwICYmIGJvdHRvbVJvdy50ZXh0Q29udGVudC5sZW5ndGggPiAwICYmICFib3R0b21Sb3cudGV4dENvbnRlbnQgPT0gJzAnKSB7XHJcblx0XHRcdFx0aWYgKGUudGFyZ2V0LnRleHRDb250ZW50ID09ICcwJykge1xyXG5cdFx0XHRcdFx0Y2FsY3VsYXRlLnB1c2goJzAnKTtcclxuXHRcdFx0XHRcdGJvdHRvbVJvdy50ZXh0Q29udGVudCA9IGNhbGN1bGF0ZS5qb2luKCcnKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGUudGFyZ2V0LnRleHRDb250ZW50ID09ICcwMCcpIHtcclxuXHRcdFx0XHRcdGNhbGN1bGF0ZS5wdXNoKCcwJyk7XHJcblx0XHRcdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChlLnRhcmdldC50ZXh0Q29udGVudCA9PSAnLicpIHtcclxuXHRcdFx0XHRcdGNhbGN1bGF0ZSA9IFtdO1xyXG5cdFx0XHRcdFx0Y2FsY3VsYXRlLnB1c2goJzAnKTtcclxuXHRcdFx0XHRcdGNhbGN1bGF0ZS5wdXNoKGUudGFyZ2V0LnRleHRDb250ZW50KTtcclxuXHRcdFx0XHRcdGJvdHRvbVJvdy50ZXh0Q29udGVudCA9IGNhbGN1bGF0ZS5qb2luKCcnKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Y2FsY3VsYXRlLnB1c2goZS50YXJnZXQudGV4dENvbnRlbnQpO1xyXG5cdFx0XHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gY2FsY3VsYXRlLmpvaW4oJycpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmIChcclxuXHRcdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQuc3RhcnRzV2l0aCgnMCcpICYmXHJcblx0XHRcdFx0ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdudW1iZXInKSAmJlxyXG5cdFx0XHRcdCFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2RvdCcpXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdGNhbGN1bGF0ZS5wdXNoKCcuJyk7XHJcblx0XHRcdFx0Y2FsY3VsYXRlLnB1c2goZS50YXJnZXQudGV4dENvbnRlbnQpO1xyXG5cdFx0XHRcdGJvdHRvbVJvdy50ZXh0Q29udGVudCA9IGNhbGN1bGF0ZS5qb2luKCcnKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAodG9wUm93LnRleHRDb250ZW50ID09PSAnJykge1xyXG5cdFx0XHRcdFx0Y2FsY3VsYXRlLnB1c2goZS50YXJnZXQudGV4dENvbnRlbnQpO1xyXG5cdFx0XHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gY2FsY3VsYXRlLmpvaW4oJycpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRjYWxjdWxhdGUucHVzaChlLnRhcmdldC50ZXh0Q29udGVudCk7XHJcblx0XHRcdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBjYWxjdWxhdGUuam9pbignJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSBlbHNlIHtcclxuXHRcdGNvbnNvbGUubG9nKCduaWUgbm8gdHlsZSB0byBuaWUnKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBhZGRpdGlvbiA9ICgpID0+IHtcclxuXHRsZXQgeCA9IE51bWJlci5wYXJzZUZsb2F0KHRvcFJvdy50ZXh0Q29udGVudCk7XHJcblx0bGV0IHkgPSBOdW1iZXIucGFyc2VGbG9hdChib3R0b21Sb3cudGV4dENvbnRlbnQpO1xyXG5cdHNjb3JlID0geCArIHk7XHJcblx0dWxJdGVtU3RvcmFnZSA9IFt4LCB5LCBzY29yZV07XHJcblx0Y2FsY3VsYXRlID0gW107XHJcblxyXG5cdGNvbnN0IHVsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcblx0dWxJdGVtLmNsYXNzTGlzdC5hZGQoJ2hpc3RvcnlfX2xpc3RfX2l0ZW0nKTtcclxuXHR1bEl0ZW0udGV4dENvbnRlbnQgPSBgJHt1bEl0ZW1TdG9yYWdlWzBdfSArICR7dWxJdGVtU3RvcmFnZVsxXX0gPSAke3VsSXRlbVN0b3JhZ2VbMl19YDtcclxuXHRsYXN0c0xpc3QuYXBwZW5kKHVsSXRlbSk7XHJcblx0dWxJdGVtU3RvcmFnZSA9IFtdO1xyXG59O1xyXG5jb25zdCBzdWJ0cmFjdGlvbiA9ICgpID0+IHtcclxuXHRsZXQgeCA9IE51bWJlci5wYXJzZUZsb2F0KHRvcFJvdy50ZXh0Q29udGVudCk7XHJcblx0bGV0IHkgPSBOdW1iZXIucGFyc2VGbG9hdChib3R0b21Sb3cudGV4dENvbnRlbnQpO1xyXG5cdHNjb3JlID0geCAtIHk7XHJcblx0Y2FsY3VsYXRlID0gW107XHJcblxyXG5cdHVsSXRlbVN0b3JhZ2UgPSBbeCwgeSwgc2NvcmVdO1xyXG5cdGNvbnN0IHVsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcblx0dWxJdGVtLmNsYXNzTGlzdC5hZGQoJ2hpc3RvcnlfX2xpc3RfX2l0ZW0nKTtcclxuXHR1bEl0ZW0udGV4dENvbnRlbnQgPSBgJHt1bEl0ZW1TdG9yYWdlWzBdfSAtICR7dWxJdGVtU3RvcmFnZVsxXX0gPSAke3VsSXRlbVN0b3JhZ2VbMl19YDtcclxuXHRsYXN0c0xpc3QuYXBwZW5kKHVsSXRlbSk7XHJcblx0dWxJdGVtU3RvcmFnZSA9IFtdO1xyXG59O1xyXG5jb25zdCBtdWx0aXBseSA9ICgpID0+IHtcclxuXHRsZXQgeCA9IE51bWJlci5wYXJzZUZsb2F0KHRvcFJvdy50ZXh0Q29udGVudCk7XHJcblx0bGV0IHkgPSBOdW1iZXIucGFyc2VGbG9hdChib3R0b21Sb3cudGV4dENvbnRlbnQpO1xyXG5cdHNjb3JlID0geCAqIHk7XHJcblx0Y2FsY3VsYXRlID0gW107XHJcblxyXG5cdHVsSXRlbVN0b3JhZ2UgPSBbeCwgeSwgc2NvcmVdO1xyXG5cdGNvbnN0IHVsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcblx0dWxJdGVtLmNsYXNzTGlzdC5hZGQoJ2hpc3RvcnlfX2xpc3RfX2l0ZW0nKTtcclxuXHR1bEl0ZW0udGV4dENvbnRlbnQgPSBgJHt1bEl0ZW1TdG9yYWdlWzBdfSAqICR7dWxJdGVtU3RvcmFnZVsxXX0gPSAke3VsSXRlbVN0b3JhZ2VbMl19YDtcclxuXHRsYXN0c0xpc3QuYXBwZW5kKHVsSXRlbSk7XHJcblx0dWxJdGVtU3RvcmFnZSA9IFtdO1xyXG59O1xyXG5jb25zdCBkaXZpZGUgPSAoKSA9PiB7XHJcblx0bGV0IHggPSBOdW1iZXIucGFyc2VGbG9hdCh0b3BSb3cudGV4dENvbnRlbnQpO1xyXG5cdGxldCB5ID0gTnVtYmVyLnBhcnNlRmxvYXQoYm90dG9tUm93LnRleHRDb250ZW50KTtcclxuXHRzY29yZSA9IHggLyB5O1xyXG5cdGNhbGN1bGF0ZSA9IFtdO1xyXG5cclxuXHR1bEl0ZW1TdG9yYWdlID0gW3gsIHksIHNjb3JlXTtcclxuXHRjb25zdCB1bEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG5cdHVsSXRlbS5jbGFzc0xpc3QuYWRkKCdoaXN0b3J5X19saXN0X19pdGVtJyk7XHJcblx0dWxJdGVtLnRleHRDb250ZW50ID0gYCR7dWxJdGVtU3RvcmFnZVswXX0gLyAke3VsSXRlbVN0b3JhZ2VbMV19ID0gJHt1bEl0ZW1TdG9yYWdlWzJdfWA7XHJcblx0bGFzdHNMaXN0LmFwcGVuZCh1bEl0ZW0pO1xyXG5cdHVsSXRlbVN0b3JhZ2UgPSBbXTtcclxufTtcclxuY29uc3Qgc3F1YXJlID0gKCkgPT4ge1xyXG5cdGlmICh0b3BSb3cudGV4dENvbnRlbnQgPT0gJycpIHtcclxuXHRcdGlmICghYm90dG9tUm93LnRleHRDb250ZW50ID09ICcwJykge1xyXG5cdFx0XHRsZXQgeSA9IE51bWJlci5wYXJzZUZsb2F0KGJvdHRvbVJvdy50ZXh0Q29udGVudCk7XHJcblx0XHRcdHNjb3JlID0gTWF0aC5zcXJ0KHkpO1xyXG5cdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBzY29yZTtcclxuXHJcblx0XHRcdHVsSXRlbVN0b3JhZ2UgPSBbeSwgc2NvcmVdO1xyXG5cdFx0XHRjb25zdCB1bEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG5cdFx0XHR1bEl0ZW0uY2xhc3NMaXN0LmFkZCgnaGlzdG9yeV9fbGlzdF9faXRlbScpO1xyXG5cdFx0XHR1bEl0ZW0uaW5uZXJIVE1MID0gYCYjODczMCAke3VsSXRlbVN0b3JhZ2VbMF19ID0gJHt1bEl0ZW1TdG9yYWdlWzFdfWA7XHJcblx0XHRcdGxhc3RzTGlzdC5hcHBlbmQodWxJdGVtKTtcclxuXHRcdFx0dWxJdGVtU3RvcmFnZSA9IFtdO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSB7XHJcblx0XHRsZXQgeSA9IE51bWJlci5wYXJzZUZsb2F0KGJvdHRvbVJvdy50ZXh0Q29udGVudCk7XHJcblx0XHRzY29yZSA9IE1hdGguc3FydCh5KTtcclxuXHRcdGJvdHRvbVJvdy50ZXh0Q29udGVudCA9IHNjb3JlO1xyXG5cdFx0Y2hlY2tTaWduKCk7XHJcblxyXG5cdFx0dWxJdGVtU3RvcmFnZSA9IFt5LCBzY29yZV07XHJcblx0XHRjb25zdCB1bEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG5cdFx0dWxJdGVtLmNsYXNzTGlzdC5hZGQoJ2hpc3RvcnlfX2xpc3RfX2l0ZW0nKTtcclxuXHRcdHVsSXRlbS5pbm5lckhUTUwgPSBgJiM4NzMwICR7dWxJdGVtU3RvcmFnZVswXX0gPSAke3VsSXRlbVN0b3JhZ2VbMV19YDtcclxuXHRcdGxhc3RzTGlzdC5hcHBlbmQodWxJdGVtKTtcclxuXHRcdHVsSXRlbVN0b3JhZ2UgPSBbXTtcclxuXHR9XHJcblx0Y2FsY3VsYXRlID0gW107XHJcblx0Y2hlY2tTaXplKCk7XHJcbn07XHJcbmNvbnN0IGV4cG9uZW50aWF0aW9uID0gKCkgPT4ge1xyXG5cdGlmICh0b3BSb3cudGV4dENvbnRlbnQgPT0gJycpIHtcclxuXHRcdGlmICghYm90dG9tUm93LnRleHRDb250ZW50ID09ICcwJykge1xyXG5cdFx0XHRsZXQgeSA9IE51bWJlci5wYXJzZUZsb2F0KGJvdHRvbVJvdy50ZXh0Q29udGVudCk7XHJcblx0XHRcdHNjb3JlID0gTWF0aC5wb3coeSwgMik7XHJcblx0XHRcdGJvdHRvbVJvdy50ZXh0Q29udGVudCA9IHNjb3JlO1xyXG5cclxuXHRcdFx0dWxJdGVtU3RvcmFnZSA9IFt5LCBzY29yZV07XHJcblx0XHRcdGNvbnN0IHVsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcblx0XHRcdHVsSXRlbS5jbGFzc0xpc3QuYWRkKCdoaXN0b3J5X19saXN0X19pdGVtJyk7XHJcblx0XHRcdHVsSXRlbS5pbm5lckhUTUwgPSBgJHt1bEl0ZW1TdG9yYWdlWzBdfTxzdXA+Mjwvc3VwPiA9ICR7dWxJdGVtU3RvcmFnZVsxXX1gO1xyXG5cdFx0XHRsYXN0c0xpc3QuYXBwZW5kKHVsSXRlbSk7XHJcblx0XHRcdHVsSXRlbVN0b3JhZ2UgPSBbXTtcclxuXHRcdH1cclxuXHR9IGVsc2Uge1xyXG5cdFx0bGV0IHkgPSBOdW1iZXIucGFyc2VGbG9hdChib3R0b21Sb3cudGV4dENvbnRlbnQpO1xyXG5cdFx0c2NvcmUgPSBNYXRoLnBvdyh5LCAyKTtcclxuXHRcdGJvdHRvbVJvdy50ZXh0Q29udGVudCA9IHNjb3JlO1xyXG5cdFx0Y2hlY2tTaWduKCk7XHJcblxyXG5cdFx0dWxJdGVtU3RvcmFnZSA9IFt5LCBzY29yZV07XHJcblx0XHRjb25zdCB1bEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG5cdFx0dWxJdGVtLmNsYXNzTGlzdC5hZGQoJ2hpc3RvcnlfX2xpc3RfX2l0ZW0nKTtcclxuXHRcdHVsSXRlbS5pbm5lckhUTUwgPSBgJHt1bEl0ZW1TdG9yYWdlWzBdfTxzdXA+Mjwvc3VwPiA9ICR7dWxJdGVtU3RvcmFnZVsxXX1gO1xyXG5cdFx0bGFzdHNMaXN0LmFwcGVuZCh1bEl0ZW0pO1xyXG5cdFx0dWxJdGVtU3RvcmFnZSA9IFtdO1xyXG5cdH1cclxuXHRjYWxjdWxhdGUgPSBbXTtcclxuXHRjaGVja1NpemUoKTtcclxufTtcclxuXHJcbmNvbnN0IGNob29zZUFjdGlvbiA9ICgpID0+IHtcclxuXHRpZiAoIXRvcFJvdy50ZXh0Q29udGVudCA9PSAnJyAmJiAhbWlkZGxlUm93LnRleHRDb250ZW50ID09ICcnICYmICFib3R0b21Sb3cudGV4dENvbnRlbnQgPT0gJycpIHtcclxuXHRcdGlmIChtaWRkbGVSb3cudGV4dENvbnRlbnQgPT09ICcrJykge1xyXG5cdFx0XHRhZGRpdGlvbigpO1xyXG5cdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBzY29yZTtcclxuXHRcdFx0dG9wUm93LnRleHRDb250ZW50ID0gJyc7XHJcblx0XHRcdG1pZGRsZVJvdy50ZXh0Q29udGVudCA9ICcnO1xyXG5cdFx0fSBlbHNlIGlmIChtaWRkbGVSb3cudGV4dENvbnRlbnQgPT09ICctJykge1xyXG5cdFx0XHRzdWJ0cmFjdGlvbigpO1xyXG5cdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBzY29yZTtcclxuXHRcdFx0dG9wUm93LnRleHRDb250ZW50ID0gJyc7XHJcblx0XHRcdG1pZGRsZVJvdy50ZXh0Q29udGVudCA9ICcnO1xyXG5cdFx0fSBlbHNlIGlmIChtaWRkbGVSb3cudGV4dENvbnRlbnQgPT09ICcqJykge1xyXG5cdFx0XHRtdWx0aXBseSgpO1xyXG5cdFx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSBzY29yZTtcclxuXHRcdFx0dG9wUm93LnRleHRDb250ZW50ID0gJyc7XHJcblx0XHRcdG1pZGRsZVJvdy50ZXh0Q29udGVudCA9ICcnO1xyXG5cdFx0fSBlbHNlIGlmIChtaWRkbGVSb3cudGV4dENvbnRlbnQgPT09ICcvJykge1xyXG5cdFx0XHRkaXZpZGUoKTtcclxuXHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gc2NvcmU7XHJcblx0XHRcdHRvcFJvdy50ZXh0Q29udGVudCA9ICcnO1xyXG5cdFx0XHRtaWRkbGVSb3cudGV4dENvbnRlbnQgPSAnJztcclxuXHRcdH1cclxuXHRcdGNoZWNrU2l6ZSgpO1xyXG5cdH1cclxufTtcclxuY29uc3QgcXVpY2tBY3Rpb24gPSAoKSA9PiB7XHJcblx0aWYgKG1pZGRsZVJvdy50ZXh0Q29udGVudCA9PT0gJysnKSB7XHJcblx0XHRhZGRpdGlvbigpO1xyXG5cdFx0dG9wUm93LnRleHRDb250ZW50ID0gc2NvcmU7XHJcblx0fSBlbHNlIGlmIChtaWRkbGVSb3cudGV4dENvbnRlbnQgPT09ICctJykge1xyXG5cdFx0c3VidHJhY3Rpb24oKTtcclxuXHRcdHRvcFJvdy50ZXh0Q29udGVudCA9IHNjb3JlO1xyXG5cdH0gZWxzZSBpZiAobWlkZGxlUm93LnRleHRDb250ZW50ID09PSAnKicpIHtcclxuXHRcdG11bHRpcGx5KCk7XHJcblx0XHR0b3BSb3cudGV4dENvbnRlbnQgPSBzY29yZTtcclxuXHR9IGVsc2UgaWYgKG1pZGRsZVJvdy50ZXh0Q29udGVudCA9PT0gJy8nKSB7XHJcblx0XHRkaXZpZGUoKTtcclxuXHRcdHRvcFJvdy50ZXh0Q29udGVudCA9IHNjb3JlO1xyXG5cdH1cclxufTtcclxuY29uc3QgY2hlY2tTaWduID0gZSA9PiB7XHJcblx0aWYgKHRvcFJvdy50ZXh0Q29udGVudCA9PSAnJykge1xyXG5cdFx0aWYgKCFib3R0b21Sb3cudGV4dENvbnRlbnQgPT0gJzAnKSB7XHJcblx0XHRcdG1pZGRsZVJvdy50ZXh0Q29udGVudCA9IGUudGFyZ2V0LnRleHRDb250ZW50O1xyXG5cdFx0XHR0b3BSb3cudGV4dENvbnRlbnQgPSBib3R0b21Sb3cudGV4dENvbnRlbnQ7XHJcblx0XHRcdGNhbGN1bGF0ZSA9IFtdO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSBpZiAoIXRvcFJvdy50ZXh0Q29udGVudCA9PSAnJykge1xyXG5cdFx0aWYgKGJvdHRvbVJvdy50ZXh0Q29udGVudCA9PSAnMCcpIHtcclxuXHRcdFx0cXVpY2tBY3Rpb24oKTtcclxuXHRcdH0gZWxzZSBpZiAoIWJvdHRvbVJvdy50ZXh0Q29udGVudCA9PSAnMCcpIHtcclxuXHRcdFx0aWYgKG1pZGRsZVJvdy50ZXh0Q29udGVudCA9PT0gZS50YXJnZXQudGV4dENvbnRlbnQpIHtcclxuXHRcdFx0XHRxdWlja0FjdGlvbigpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG1pZGRsZVJvdy50ZXh0Q29udGVudCA9IGUudGFyZ2V0LnRleHRDb250ZW50O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgZGVsZXRlT25lRnVuY3Rpb24gPSAoKSA9PiB7XHJcblx0aWYgKGNhbGN1bGF0ZS5sZW5ndGggPD0gMSkge1xyXG5cdFx0Y2FsY3VsYXRlID0gW107XHJcblx0XHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSAnMCc7XHJcblx0fSBlbHNlIGlmIChjYWxjdWxhdGUubGVuZ3RoID4gMSkge1xyXG5cdFx0Y2FsY3VsYXRlLnBvcCgpO1xyXG5cdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gY2FsY3VsYXRlLmpvaW4oJycpO1xyXG5cdH1cclxufTtcclxuY29uc3QgY2xlYXJGdW5jdGlvbiA9ICgpID0+IHtcclxuXHRjYWxjdWxhdGUgPSBbXTtcclxuXHR0b3BSb3cudGV4dENvbnRlbnQgPSAnJztcclxuXHRtaWRkbGVSb3cudGV4dENvbnRlbnQgPSAnJztcclxuXHRib3R0b21Sb3cudGV4dENvbnRlbnQgPSAnMCc7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja1NpemUgPSAoKSA9PiB7XHJcblx0aWYgKGJvdHRvbVJvdy50ZXh0Q29udGVudC5sZW5ndGggPiAwKSB7XHJcblx0XHRib3R0b21Sb3cuc3R5bGUuZm9udFNpemUgPSAnMy41cmVtJztcclxuXHRcdGlmIChib3R0b21Sb3cudGV4dENvbnRlbnQubGVuZ3RoID4gMTApIHtcclxuXHRcdFx0Ym90dG9tUm93LnN0eWxlLmZvbnRTaXplID0gJzMuM3JlbSc7XHJcblx0XHRcdGlmIChib3R0b21Sb3cudGV4dENvbnRlbnQubGVuZ3RoID49IDEyKSB7XHJcblx0XHRcdFx0Ym90dG9tUm93LnN0eWxlLmZvbnRTaXplID0gJzMuMXJlbSc7XHJcblx0XHRcdFx0aWYgKGJvdHRvbVJvdy50ZXh0Q29udGVudC5sZW5ndGggPj0gMTQpIHtcclxuXHRcdFx0XHRcdGJvdHRvbVJvdy5zdHlsZS5mb250U2l6ZSA9ICcyLjhyZW0nO1xyXG5cdFx0XHRcdFx0aWYgKGJvdHRvbVJvdy50ZXh0Q29udGVudC5sZW5ndGggPiAxNikge1xyXG5cdFx0XHRcdFx0XHRib3R0b21Sb3cuc3R5bGUuZm9udFNpemUgPSAnMi41cmVtJztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjbGVhckxpc3QgPSAoKSA9PiB7XHJcblx0bGFzdHNMaXN0LmlubmVySFRNTCA9ICcnO1xyXG59O1xyXG5jb25zdCBrZXlQcmVzcyA9IGUgPT4ge1xyXG5cdGlmIChjYWxjdWxhdGUubGVuZ3RoIDw9IDE2KSB7XHJcblx0XHRpZiAoZS5rZXkgPT0gJysnICYmICFib3R0b21Sb3cudGV4dENvbnRlbnQgPT0gJzAnKSB7XHJcblx0XHRcdG1pZGRsZVJvdy50ZXh0Q29udGVudCA9ICcrJztcclxuXHRcdFx0dG9wUm93LnRleHRDb250ZW50ID0gYm90dG9tUm93LnRleHRDb250ZW50O1xyXG5cdFx0XHRjYWxjdWxhdGUgPSBbXTtcclxuXHRcdH0gZWxzZSBpZiAoZS5rZXkgPT0gJy0nICYmICFib3R0b21Sb3cudGV4dENvbnRlbnQgPT0gJzAnKSB7XHJcblx0XHRcdG1pZGRsZVJvdy50ZXh0Q29udGVudCA9ICctJztcclxuXHRcdFx0dG9wUm93LnRleHRDb250ZW50ID0gYm90dG9tUm93LnRleHRDb250ZW50O1xyXG5cdFx0XHRjYWxjdWxhdGUgPSBbXTtcclxuXHRcdH0gZWxzZSBpZiAoZS5rZXkgPT0gJyonICYmICFib3R0b21Sb3cudGV4dENvbnRlbnQgPT0gJzAnKSB7XHJcblx0XHRcdG1pZGRsZVJvdy50ZXh0Q29udGVudCA9ICcqJztcclxuXHRcdFx0dG9wUm93LnRleHRDb250ZW50ID0gYm90dG9tUm93LnRleHRDb250ZW50O1xyXG5cdFx0XHRjYWxjdWxhdGUgPSBbXTtcclxuXHRcdH0gZWxzZSBpZiAoZS5rZXkgPT0gJy8nICYmICFib3R0b21Sb3cudGV4dENvbnRlbnQgPT0gJzAnKSB7XHJcblx0XHRcdG1pZGRsZVJvdy50ZXh0Q29udGVudCA9ICcvJztcclxuXHRcdFx0dG9wUm93LnRleHRDb250ZW50ID0gYm90dG9tUm93LnRleHRDb250ZW50O1xyXG5cdFx0XHRjYWxjdWxhdGUgPSBbXTtcclxuXHRcdH0gZWxzZSBpZiAoKGUua2V5ID09ICc9JyB8fCBlLmtleSA9PSAnRW50ZXInKSAmJiAhYm90dG9tUm93LnRleHRDb250ZW50ID09ICcwJykge1xyXG5cdFx0XHRjaG9vc2VBY3Rpb24oKTtcclxuXHRcdH0gZWxzZSBpZiAoZS5rZXkgPT0gJ0JhY2tzcGFjZScpIHtcclxuXHRcdFx0ZGVsZXRlT25lRnVuY3Rpb24oKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBkaWdpdHMgYW5kIGRvdCBiZWxvdyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuXHRcdGlmIChlLmtleSA9PSAnMScpIHtcclxuXHRcdFx0Y2FsY3VsYXRlLnB1c2goJzEnKTtcclxuXHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gY2FsY3VsYXRlLmpvaW4oJycpO1xyXG5cdFx0fSBlbHNlIGlmIChlLmtleSA9PSAnMicpIHtcclxuXHRcdFx0Y2FsY3VsYXRlLnB1c2goJzInKTtcclxuXHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gY2FsY3VsYXRlLmpvaW4oJycpO1xyXG5cdFx0fSBlbHNlIGlmIChlLmtleSA9PSAnMycpIHtcclxuXHRcdFx0Y2FsY3VsYXRlLnB1c2goJzMnKTtcclxuXHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gY2FsY3VsYXRlLmpvaW4oJycpO1xyXG5cdFx0fSBlbHNlIGlmIChlLmtleSA9PSAnNCcpIHtcclxuXHRcdFx0Y2FsY3VsYXRlLnB1c2goJzQnKTtcclxuXHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gY2FsY3VsYXRlLmpvaW4oJycpO1xyXG5cdFx0fSBlbHNlIGlmIChlLmtleSA9PSAnNScpIHtcclxuXHRcdFx0Y2FsY3VsYXRlLnB1c2goJzUnKTtcclxuXHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gY2FsY3VsYXRlLmpvaW4oJycpO1xyXG5cdFx0fSBlbHNlIGlmIChlLmtleSA9PSAnNicpIHtcclxuXHRcdFx0Y2FsY3VsYXRlLnB1c2goJzYnKTtcclxuXHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gY2FsY3VsYXRlLmpvaW4oJycpO1xyXG5cdFx0fSBlbHNlIGlmIChlLmtleSA9PSAnNycpIHtcclxuXHRcdFx0Y2FsY3VsYXRlLnB1c2goJzcnKTtcclxuXHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gY2FsY3VsYXRlLmpvaW4oJycpO1xyXG5cdFx0fSBlbHNlIGlmIChlLmtleSA9PSAnOCcpIHtcclxuXHRcdFx0Y2FsY3VsYXRlLnB1c2goJzgnKTtcclxuXHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gY2FsY3VsYXRlLmpvaW4oJycpO1xyXG5cdFx0fSBlbHNlIGlmIChlLmtleSA9PSAnOScpIHtcclxuXHRcdFx0Y2FsY3VsYXRlLnB1c2goJzknKTtcclxuXHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gY2FsY3VsYXRlLmpvaW4oJycpO1xyXG5cdFx0fSBlbHNlIGlmIChlLmtleSA9PSAnMCcpIHtcclxuXHRcdFx0Y2FsY3VsYXRlLnB1c2goJzAnKTtcclxuXHRcdFx0Ym90dG9tUm93LnRleHRDb250ZW50ID0gY2FsY3VsYXRlLmpvaW4oJycpO1xyXG5cdFx0fSBlbHNlIGlmIChlLmtleSA9PSAnLicgfHwgZS5rZXkgPT0gJywnKSB7XHJcblx0XHRcdGNhbGN1bGF0ZS5wdXNoKCcuJyk7XHJcblx0XHRcdGJvdHRvbVJvdy50ZXh0Q29udGVudCA9IGNhbGN1bGF0ZS5qb2luKCcnKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5cclxucG93ZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBleHBvbmVudGlhdGlvbik7XHJcbmVsZW1lbnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzcXVhcmUpO1xyXG5jbGVhckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsZWFyRnVuY3Rpb24pO1xyXG5iYWNrc3BhY2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWxldGVPbmVGdW5jdGlvbik7XHJcbmVxdWFsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hvb3NlQWN0aW9uKTtcclxuZGlnaXRzLmZvckVhY2goZGlnaXQgPT4gZGlnaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0eXBlRGlnaXQpKTtcclxuc2lnbnMuZm9yRWFjaChzaWduID0+IHNpZ24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGVja1NpZ24pKTtcclxuZGlnaXRzLmZvckVhY2goZGlnaXQgPT4gZGlnaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGVja1NpemUpKTtcclxuY2xlYXJMaXN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xlYXJMaXN0KTtcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleVByZXNzKTtcclxuIl19
